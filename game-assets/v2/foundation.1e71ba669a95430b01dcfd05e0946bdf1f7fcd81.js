!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("responsive"),require("react"),require("@nyt/native-bridge")):"function"==typeof define&&define.amd?define(["exports","responsive","react","@nyt/native-bridge"],e):e((t=t||self).Foundation={},t.Responsive,t.React,t.InitNativeBridge)}(this,function(t,r,e,i){"use strict";var l=window,p=document,o=encodeURIComponent,n=localStorage,a=sessionStorage;function m(t,e){t.classList.add(e)}function v(t,e){t.classList.remove(e)}function s(t,e){t.classList.toggle(e)}function y(t,e,n){t.setAttribute(e,n)}function g(t,e,n,r){t.addEventListener(e,n,r)}function _(t){return p.getElementById(t)}function c(t,e){t.appendChild(e)}function u(e,t){!function(t){for(;t.children.length;)t.removeChild(t.children[0])}(e),t.forEach(function(t){c(e,t)})}function d(t){var e;return null===(e=t.currentTarget)||void 0===e?void 0:e.events[t.type](t)}function f(t,r,e){var i=p.createElement(t);return e&&c(i,p.createTextNode(e)),Object.keys(r).forEach(function(t){var e,n=r[t];"o"===t[0]&&"n"===t[1]?(e=t.slice(2).toLowerCase(),i.events||(i.events={}),i.events[e]=n,g(i,e,d)):null!=n&&!1!==n&&i.setAttribute(t,n)}),i}var h=l.env,b=l.featureFlags,w=void 0===b?{}:b,S=h.version,E="pz-version",x=S!==n.getItem(E);try{n.setItem(E,S)}catch(Z){console.error(Z.error)}function k(e){var n=[];return Object.keys(e).forEach(function(t){n.push("".concat(o(t),"=").concat(o(e[t])))}),"?".concat(n.join("&"))}function T(t,e){return e=e||l.location.href,t=t.replace(/[[\]]/g,"\\$&"),(e=new RegExp("[?&]".concat(t,"(=([^&#]*)|&|#|$)")).exec(e))?e[2]?decodeURIComponent(e[2].replace(/\+/g,"")):"":null}var O=function(t){return"js-".concat(t)},I=["nytimes://login","nytimes://createAccount"],C=function(){return Date.now()},j="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}),A=function(t,e,n,r){var i,o,a,s=[],c="getItem",u="setItem",l="removeItem",p="".concat(n,"-check");e&&n&&x&&(e[l](p),e[l](n));function d(t){for(;s.length;){var e;null!==(e=s.shift())&&void 0!==e&&e[t?1:0](t||i)}}return{get:function(){return o?Promise.resolve(i):new Promise(function(t,e){return s.push([t,e])})},initialize:function(){return e&&n&&e[c](p)===r&&(a=e[c](n)),Promise.resolve(a&&JSON.parse(a)||t()).then(function(t){if(o=!0,i=t,e&&r&&n&&!a)try{e[u](p,r),e[u](n,JSON.stringify(i))}catch(t){console.error(t.error)}d()}).catch(d)}}},R=(/NYT-S=([^;]+)/.exec(p.cookie||"")||[])[1],D=(/nyt-a=([^;]+)/.exec(p.cookie||"")||[])[1],N=(/NYT-NO-ADS=([^;]+)/.exec(p.cookie||"")||[])[1];function P(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function L(r){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?P(Object(i),!0).forEach(function(t){var e,n;e=r,t=i[n=t],n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):P(Object(i)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(i,t))})}return r}function q(e,o){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},a=L(L({},M),t),s=void 0!==(t=a.isSync)&&t;return new Promise(function(n,r){var t;if(!(null!==(t=window)&&void 0!==t&&t.isHybridWebView||navigator.onLine))return r(new Error("No internet"));var i=new XMLHttpRequest;i.open(e,o,!s),i.withCredentials=!!a.withCredentials,a.withCookie&&(a.cookie?i.setRequestHeader("nyt-s",a.cookie):i.setRequestHeader("nyt-s",R)),i.setRequestHeader("Content-type",a.data?"application/json":"application/x-www-form-urlencoded"),i.onload=function(){try{var t,e=i.responseText;e&&a.responseType===U?(t=JSON.parse(e),a.withStatus&&(t.status=i.status),n(t)):n(e)}catch(t){r(new Error("Something went wrong"))}},i.addEventListener("error",function(t){return r(function(t){if(!(t.status<400)){var e=new Error("bad req");return e.status=t.status,e}}(t))}),i.send(a.data&&JSON.stringify(a.data))})}var U="json",M={withCookie:!0,withCredentials:!0,responseType:U},F={get:function(t,e){return q("GET",t,e)},post:function(t,e,n){return q("POST",t,L(L({},n),{},{data:e}))},put:function(t,e,n){return q("PUT",t,L(L({},n),{},{data:e}))},delete:function(t,e){return q("DELETE",t,e)},request:q},H=A(function(){return F.get("/puzzles/user?bust=".concat(C()))},a,"pz-user",R),B=l.userType;function z(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function W(r){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?z(Object(i),!0).forEach(function(t){var e,n;e=r,t=i[n=t],n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):z(Object(i)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(i,t))})}return r}var Y="fluid",G=[[990,[Y,[728,90],[970,90],[970,250],[1605,300]]],[750,[Y,[728,90],[1605,300]]],[440,[Y,[300,250],[300,420]]],[0,[Y,[300,250]]]];l.AdSlot4=l.AdSlot4||{cmd:[],init:function(){return null},events:{subscribe:function(){return null}},refreshAds:function(){return null}};function J(t,e){function n(t){t.hadRecentInput||(o.value+=t.value,o.entries.push(t),r())}var r,i,o=at("CLS",0);(i=st("layout-shift",n))&&(r=pt(t,o,e),ct(function(){i.takeRecords().map(n),r()}),ut(function(){o=at("CLS",0),r=pt(t,o,e)}))}function V(){return"hidden"===document.visibilityState?0:1/0}function X(){ct(function(t){t=t.timeStamp;dt=t},!0)}function $(t,e){Z||(Z=e,tt=t,et=new Date,gt(removeEventListener),vt())}function K(t,e){function n(t){t.startTime<r.timeStamp&&(i.value=t.processingStart-t.startTime,i.entries.push(t),lt.add(i),a())}var r=ft(),i=at("FID"),o=st("first-input",n),a=pt(t,i,e);o&&ct(function(){o.takeRecords().map(n),o.disconnect()},!0),o&&ut(function(){i=at("FID"),a=pt(t,i,e),nt=[],tt=-1,Z=null,gt(addEventListener),nt.push(n),vt()})}function Q(e,n){function t(t){var e=t.startTime;e<o.timeStamp&&(a.value=e,a.entries.push(t)),r()}var r,i,o=ft(),a=at("LCP"),s=st("largest-contentful-paint",t);s&&(r=pt(e,a,n),i=function(){lt.has(a)||(s.takeRecords().map(t),s.disconnect(),lt.add(a),r())},["keydown","click"].forEach(function(t){addEventListener(t,i,{once:!0,capture:!0})}),ct(i,!0),ut(function(t){a=at("LCP"),r=pt(e,a,n),requestAnimationFrame(function(){requestAnimationFrame(function(){a.value=performance.now()-t.timeStamp,lt.add(a),r()})})}))}var Z,tt,et,nt,rt=l.AdSlot4,it=l.navigator,ot=A(function(){return F.get("/puzzles/device")},n,"pz-device",it.userAgent),at=function(t,e){return{name:t,value:void 0===e?-1:e,delta:0,entries:[],id:"v1-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},st=function(t,e){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){if("first-input"===t&&!("PerformanceEventTiming"in self))return;var n=new PerformanceObserver(function(t){return t.getEntries().map(e)});return n.observe({type:t,buffered:!0}),n}}catch(t){}},ct=function(e,n){function r(t){"pagehide"!==t.type&&"hidden"!==document.visibilityState||(e(t),n&&(removeEventListener("visibilitychange",r,!0),removeEventListener("pagehide",r,!0)))}addEventListener("visibilitychange",r,!0),addEventListener("pagehide",r,!0)},ut=function(e){addEventListener("pageshow",function(t){t.persisted&&e(t)},!0)},lt=new("function"==typeof WeakSet?WeakSet:Set),pt=function(t,e,n){var r;return function(){0<=e.value&&(n||lt.has(e)||"hidden"===document.visibilityState)&&(e.delta=e.value-(r||0),!e.delta&&void 0!==r||(r=e.value,t(e)))}},dt=-1,ft=function(){return dt<0&&(dt=V(),X(),ut(function(){setTimeout(function(){dt=V(),X()},0)})),{get timeStamp(){return dt}}},ht={passive:!0,capture:!0},mt=new Date,vt=function(){var e;0<=tt&&tt<et-mt&&(e={entryType:"first-input",name:Z.type,target:Z.target,cancelable:Z.cancelable,startTime:Z.timeStamp,processingStart:Z.timeStamp+tt},nt.forEach(function(t){t(e)}),nt=[])},yt=function(t){var e,n,r,i;function o(){$(n,r),i()}function a(){i()}t.cancelable&&(e=(1e12<t.timeStamp?new Date:performance.now())-t.timeStamp,"pointerdown"==t.type?(n=e,r=t,i=function(){removeEventListener("pointerup",o,ht),removeEventListener("pointercancel",a,ht)},addEventListener("pointerup",o,ht),addEventListener("pointercancel",a,ht)):$(e,t))},gt=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach(function(t){return e(t,yt,ht)})};function _t(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function bt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var wt="dataLayer",St="games-crosswords";l[wt]=l[wt]||[],window.isHybridWebView||l[wt].push({event:"gtm.js","gtm.start":C()});function Et(){function t(t){var e;t&&jt("userDataReady",t),jt("pageDataReady",{application:{name:St,environment:h.name},asset:{url:Ct},pageview:{id:j}}),e=C(),setInterval(function(){p.hasFocus()&&jt("heartbeat",{pageview:{heartbeat:{timeSincePageDataReady:C()-e,heartbeatInterval:5e3}}})},5e3)}window.isHybridWebView||function(r){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",o=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];new Promise(function(t,e){var n=p.createElement("script");n.async=o,r?(n.src=r,n.onload=t,n.onerror=e):i&&(n.innerHTML=i,t(void 0)),p.body.appendChild(n)})}(h.gtm),At.initialize(),At.get().then(t).catch(function(){return t()})}function xt(t){var e=t.name,n=t.label,r=t.context,t=void 0===(t=t.element)?null:t;"undefined"!=typeof window&&jt("moduleInteraction",{eventData:{pagetype:"game",trigger:"module",type:"click"},module:{type:"click",element:t||{name:e,label:n},context:r,label:n}})}function kt(t){var e=t.name,n=t.delta,n={eventAction:"Web Vitals",eventLabel:t.id,pageview:{performance:bt({},e.toLowerCase(),Math.round("CLS"===e?1e3*n:n))}};jt("performance",n)}function Tt(){J(kt),K(kt),Q(kt)}function Ot(t){var t=(e=t.target).getAttribute("data-medium")||"",e=e.getAttribute("data-source")||"";jt("moduleInteraction",{eventData:{pagetype:"game",trigger:"module",type:"ob_click"},module:{name:"Shop the Games Collection",medium:t,source:e}})}var It=p.querySelector("link[rel=canonical]"),Ct=(It||p.location).href,jt=function(t,e){window.isHybridWebView&&window.NativeBridge?window.NativeBridge.sendAnalytic("moduleInteraction"===t?"interaction":t,e):l[wt].push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(n),!0).forEach(function(t){bt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({event:t},e))},At=A(function(){if(window.isHybridWebView)return null;var t=k({sourceApp:St,referrer:p.referrer,assetUrl:Ct,caller_id:St}),t="".concat(h.tagx,"/svc/nyt/data-layer").concat(t);return F.get(t,{withCookie:!1})});function Rt(t){return function(t){if(Array.isArray(t))return Pt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Nt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||Nt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nt(t,e){if(t){if("string"==typeof t)return Pt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pt(t,e):void 0}}function Pt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lt(n){return Promise.all([H.get(),ot.get()]).then(function(t){var e=Dt(t,2),t=e[0],e=e[1];return Ut(t,e,n)}).catch(function(){return qt})}var qt="mailto:nytgames@nytimes.com",Ut=function(t,e){for(var n="".concat(2<arguments.length&&void 0!==arguments[2]?arguments[2]:"Web Feedback"," (").concat(j.slice(-6),")"),r=l.screen,i=p.documentElement,o=(new Date).getTimezoneOffset(),a=[l.location.pathname,r.width,r.height,i.clientWidth,i.clientHeight,"UTC".concat(0<o?"":"+").concat(o/-60),t.id,null!=B&&B.hasDigi?"Yes":"No",null!=B&&B.hasXwd?"Yes":"No",function(){try{var t=p.cookie.match(/nyt-xwd-hashd=(.+);/);return t&&"true"===t[1]}catch(t){return!1}}()?"Yes":"No",j],s=e.feedback,c=/%s/,u=0;u<a.length;)s=s.replace(c,a[u].toString()),u+=1;return qt+k({subject:n,body:s})},Mt=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Ft=function(n){return function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(Mt.includes(t))return xt({name:n,label:"daily-archive",context:e});switch(t){case"The Crossword":return xt({name:n,label:"daily-page",context:e});case"The Mini":return xt({name:n,label:"mini-page",context:e});case"Wordplay, the Crossword Column":return xt({name:n,label:"wordplay",context:e});case"Spelling Bee":return xt({name:n,label:"spelling-bee",context:e});case"Letter Boxed":return xt({name:n,label:"letter-boxed",context:e});case"Tiles":return xt({name:n,label:"tiles",context:e});case"Sudoku":return xt({name:n,label:"sudoku",context:e});case"Vertex":return xt({name:n,label:"vertex",context:e});case"All Games":return xt({name:n,label:"nav-all-games",context:e});case"Statistics":return xt({name:n,label:"stats",context:e});case"Crossword Archives":return xt({name:n,label:"daily-archive",context:e});case"download-app":return xt({name:n,label:"download-app",context:e});case"monthly-bonus":return xt({name:n,label:"monthly-bonus",context:e});case"variety-puzzles":return xt({name:n,label:"variety-puzzles",context:e});case"How to Solve The New York Times Crossword":case"Featured Article":return xt({name:n,label:"featured-article",context:e});default:return null}}},Ht=Ft("nav"),Bt=Ft("hub");function zt(t){return function(t){if(Array.isArray(t))return Wt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Wt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wt(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Yt,Gt,Jt,Vt,Xt,$t=O("global-nav"),b=O("mobile-toolbar"),Kt="show-mobile-toolbar",E=(Yt=_($t),Gt=_(b),Jt="pz-mobile-nav__toolbar-item",Xt=!(Vt="pz-dropdown__menu-item"),{create:function(t){u(Gt,Qt(t))},createDropDown:function(t){var e=f("div",{id:O("mobile-dropdown"),class:"pz-dropdown pz-mobile-dropdown"}),n=f("button",{class:"pz-mobile-nav__toolbar-item pz-dropdown__button",onClick:function(){var t=_(O("mobile-dropdown")),e=_(O("mobile-dropdown-arrow"));t&&s(t,"show"),e&&s(e,"reverse")}}),r=f("span",{class:"pz-dropdown__label"},t.value),i=f("span",{class:"pz-dropdown__arrow down",id:O("mobile-dropdown-arrow")}),o=f("nav",{class:"pz-dropdown__list"}),t=Qt(t.items,!0);return c(n,r),c(n,i),c(e,n),c(e,o),u(o,t),e},activate:function(){Xt||(Xt=!0,m(Yt,Kt))},deactivate:function(){Xt&&(Xt=!1,v(Yt,Kt))}});function Qt(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return t.map(function(t){return t instanceof HTMLElement?t:function(t){var e,n={class:1<arguments.length&&void 0!==arguments[1]&&arguments[1]?Vt:Jt};switch(t.type){case"button":e="button",n.onClick=t.action;break;case"navigation":e="a",n.href=t.url,n.target=window.isHybridWebView?"_self":"_blank",n.rel="noreferrer",t.action&&(n.onClick=t.action);break;default:e="span",n.onClick=t.action}var r=f(e,n,t.value);return"text"!==t.type&&t.icon&&c(r,f("i",{class:"pz-toolbar-icon ".concat(t.icon)})),r}(t,e)})}var Zt,te="__viewers__";"IntersectionObserver"in l&&"IntersectionObserverEntry"in l&&"intersectionRatio"in l.IntersectionObserverEntry.prototype&&("isIntersecting"in l.IntersectionObserverEntry.prototype||Object.defineProperty(l.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return 0<this.intersectionRatio}}),l.__observeInView__=!0);var ee=function(){Zt=new l.IntersectionObserver(function(t){t.forEach(function(e){var t;e.isIntersecting&&null!==(t=e.target[te])&&void 0!==t&&t.forEach(function(t){return t(e)})})},{threshold:.4})};function ne(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function re(r){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(i),!0).forEach(function(t){var e,n;e=r,t=i[n=t],n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):ne(Object(i)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(i,t))})}return r}function ie(t){var e=t.target,n=e.getAttribute("data-region")||"",r=e.getAttribute("data-track")||"",i=e.getAttribute("data-label")||e.textContent,t={};"noticeOptOut"===r&&(t={name:e.getAttribute("data-element-name"),url:e.href||"",label:i}),jt("moduleInteraction",{eventData:{pagetype:"game",trigger:"module",type:"click"},module:{name:ae[r],label:i,region:n,element:re({},t)}})}function oe(t){var e={},n=t.target.getAttribute("data-region")||"",r=t.target.getAttribute("data-track")||"",t=t.target.textContent;e[n]||(jt("impression",{eventData:{pagetype:"game",trigger:"module",type:"impression"},module:{name:ae[r],label:t,region:n}}),e[n]=!0)}var ae={linkCANotice:"california notices link",linkOptOut:"ccpa opt-out link",optedOut:"ccpa opted-out indicator",modalPrivacy:"ccpa notice of opt-out privacy policy link",snackbar:"ccpa snackbar message",noticeOptOut:"ccpa notice of opt-out element"};function se(t){return function(t){if(Array.isArray(t))return ce(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return ce(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ce(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ue="prod"===h.name?"https://purr.nytimes.com":"https://purr.dev.nytimes.com";F.get("".concat(ue,"/v1/purr-cache"),{withCookie:!1});function le(t){return m(t,"dimmed")}function pe(t){return v(t,"dimmed")}function de(){var c,u,t=se(document.getElementsByClassName("ccpa-impression")),l=se(document.getElementsByClassName("ccpa-opt-out"));function p(t){function e(t){var e=!(t instanceof Error),n=R?"Your preference has been saved, we will no longer sell your information.":"Your request to not sell your data will be stored for this browser and device.",r=e?(s=R?"As a California resident, you have additional rights under the California Consumer Privacy Act of 2018. While The New York Times Company does not “sell” personal information of its readers as the term “sell” is traditionally understood, “sell” under the CCPA is broadly defined. To learn more, review the text below.":"If you clear your cookies, your preference will be forgotten. As a California resident, you have additional rights under the California Consumer Privacy Act of 2018. While The New York Times Company does not “sell” personal information of its readers as the term “sell” is traditionally understood, “sell” under the CCPA is broadly defined. To learn more, review the text below.",'\n  <div class="ccpa-snackbar" role="status" data-region="popup">\n    <div class="ccpa-snackbar__dismiss-icon ccpa-modal-link" role="button" data-region="footer" data-element-name="X button" data-label="X" data-track="noticeOptOut"></div>\n    <div class="ccpa-snackbar__header">'.concat(n,'</div>\n    <div class=ccpa-snackbar__msg-container>\n    <div class="ccpa-snackbar__msg">').concat(s,'</div>\n      <div class="ccpa-snackbar__terms">\n        <p>The New York Times Company does not sell personal information of its readers as the term "sell" is traditionally understood. But "sell" under the CCPA is broadly defined. It includes the sharing of personal information with third parties in exchange for something of value, even if no money changes hands. For example, sharing an advertising or device identifier to a third party may be considered a “sale” under the CCPA.</p>\n        <p>To the extent The New York Times Company "sells" your personal information (as the term "sell" is defined under the CCPA), you have the right to opt-out of that “sale” on a going-forward basis at any time. To exercise this right, click the “Do Not Sell My Personal Information” link in the footer of our website or under your “Account,” which you have already done. You can also submit a request to opt-out by emailing us at <a href="mailto:privacy@nytimes.com">privacy@nytimes.com</a> with the subject line “California Resident - Do Not Sell.”</p>\n        <p>Once you have opted out, you will see a change to “We No Longer Sell Your Personal Information.” If you have an account with certain Times Services (specifically nytimes.com, cooking.nytimes.com, nytimes.com/crosswords, the New York Times app, the New York Times Cooking app and the New York Times Crossword app) and are logged in, we will save your preference and honor your opt-out request across browsers and devices so long as you remain logged in. If you are not logged in, or do not have an account with any Times Services listed above, your opt-out of the “sale” of personal information will be specific to the browser or device from which you have clicked “Do Not Sell My Personal Information” and until you clear your cookies (or local storage in apps) on this browser or device.</p>\n        <p>If your browser or device is using a “do not track” setting, we will detect it and honor it on that specific browser or device only. If you wish to have a “do not track” experience across all of your browsers and devices, please make sure that all of your browsers and devices are set on “do not track.”</p>\n        <p>After you opt out of the “sale” of your personal information, we will no longer "sell" your personal information to third parties (except in an aggregated or de-identified manner so it is no longer personal information), but we will continue to share your personal information with our service providers, which process it on our behalf. Exercising your right to opt out of the “sale” of your personal information does not mean that you will stop seeing ads on our sites and apps.</p>\n        <p>To opt-out of interest-based advertising as much as technically possible, go to <a class="test-manage-trackers-link ccpa-modal-link" data-region="footer" data-track="noticeOptOut" data-region="footer" data-element-name="manage trackers link" target="_blank" rel="noopener noreferrer" href="http://www.nytimes.com/privacy/cookie-policy#how-do-i-manage-trackers">"How Do I Manage Trackers"</a> in our Cookie Policy. To opt out of the “sale” of your personal information from participating companies, please visit the Digital Advertising Alliance <a class="ccpa-modal-link test-daa-link-web" data-region="footer" data-element-name="DAA web link" data-track="noticeOptOut" target="_blank" rel="noopener noreferrer" href="https://optout.privacyrights.info/?c=1">website</a> or <a class="ccpa-modal-link test-daa-link-apps" target="_blank" rel="noopener noreferrer" href="https://www.privacyrights.info/appchoices" data-region="footer" data-element-name="DAA apps link" data-track="noticeOptOut">apps</a>. We do not control these opt-out mechanisms and are not responsible for their operation.</p>\n        <p>You can designate someone else to make a request on your behalf. To protect your information, we will ask for a signed permission from you authorizing the other person to submit a request on your behalf. We will contact you to verify your identity before we respond to your authorized agent’s request.</p>\n        <p>After 12 months, we may ask you if you want to opt into the “sale” of your personal information.</p>\n        <p>For further information, please refer to our <a href="https://www.nytimes.com/privacy/privacy-policy" class="test-privacy-policy-link ccpa-modal-link" target="_blank" rel="noopener noreferrer" data-region="footer" data-element-name="privacy policy link" data-track="noticeOptOut">Privacy Policy</a>.</p>\n      </div>\n    </div>\n    <div class="ccpa-bottom">\n      <div role="button" class="ccpa-snackbar__dismiss ccpa-modal-link" data-region="footer" data-track="noticeOptOut" data-element-name="dismiss button">DISMISS</div>\n      <a href="https://www.nytimes.com/privacy/privacy-policy" class="test-privacy-learn-more ccpa-modal-link ccpa-privacy-link" target="_blank" rel="noopener noreferrer" data-region="footer" data-element-name="privacy policy link" data-track="noticeOptOut">Learn more about your privacy</a>\n    </div>\n  </div>\n')):'\n  <div class="ccpa-snackbar error" role="status">\n    <div class="ccpa-snackbar__error">Something went wrong. Please try again.</div>\n  </div>\n';document.body.insertAdjacentHTML("beforeend",r);var i=se(document.querySelectorAll(".pz-footer, .pz-header, .pz-content")),o=se(document.querySelectorAll(".ccpa-modal-link")),a=document.querySelector(".ccpa-snackbar"),t=document.querySelector(".ccpa-snackbar__dismiss"),s=document.querySelector(".ccpa-snackbar__dismiss-icon"),r=function(){u=!1,c&&clearTimeout(c),m(a,"dismissed"),i.map(pe)};t&&t.addEventListener("click",r),s&&s.addEventListener("click",r),o.forEach(function(t){t.addEventListener("click",ie)}),setTimeout(function(){m(a,"enter"),e&&i.map(le)},30),e||(c=window.setTimeout(r,7e3)),e&&(l.forEach(function(t){var e=t.firstChild,n=e.className,e=e.dataset.region;t.innerHTML='<span class="'.concat(n,'" data-region="').concat(e,'" data-track="optedOut">We No Longer Sell Your Personal Information</span>'),t.removeEventListener("click",p)}),jt("impression",{module:{name:"ccpa snackbar message",label:n}}))}t.preventDefault(),u||(u=!0,F.post("".concat(ue,"/v1/preferences"),{ccpa_pref:"opt-out"},{withCookie:!1}).then(e).catch(e))}se(document.querySelectorAll(".ccpa-link")).forEach(function(t){t.addEventListener("click",ie)}),t.forEach(function(t){var e,n;e=t,n=oe,window.__observeInView__&&(Zt||ee(),e[te]?null!==(t=e[te])&&void 0!==t&&t.push(n):(e[te]=[n],Zt.observe(e)))}),l.forEach(function(t){g(t,"click",p)})}var fe=function(t,e){return(fe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function he(t,e){function n(){this.constructor=t}fe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var me,ve,ye,ge,_e,be,we=function(){return(we=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Se(t,e){var n={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function Ee(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return{value:(t=t&&r>=t.length?void 0:t)&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function xe(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function ke(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(xe(arguments[e]));return t}function Te(t){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Oe(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return 1;default:return Le(t,Error)}}function Ie(t){return"[object ErrorEvent]"===Object.prototype.toString.call(t)}function Ce(t){return"[object DOMError]"===Object.prototype.toString.call(t)}function je(t){return"[object String]"===Object.prototype.toString.call(t)}function Ae(t){return null===t||"object"!==Te(t)&&"function"!=typeof t}function Re(t){return"[object Object]"===Object.prototype.toString.call(t)}function De(t){return"undefined"!=typeof Event&&Le(t,Event)}function Ne(t){return"undefined"!=typeof Element&&Le(t,Element)}function Pe(t){return Boolean(t&&t.then&&"function"==typeof t.then)}function Le(t,e){try{return t instanceof e}catch(t){return!1}}function qe(t,e){try{for(var n,r=t,i=[],o=0,a=0,s=" > ".length;r&&o++<5&&!("html"===(n=function(t,e){var n,r,i,o,a=t,s=[];if(!a||!a.tagName)return"";s.push(a.tagName.toLowerCase());var t=null!==(t=e)&&void 0!==t&&t.length?e.filter(function(t){return a.getAttribute(t)}).map(function(t){return[t,a.getAttribute(t)]}):null;if(null!==(e=t)&&void 0!==e&&e.length)t.forEach(function(t){s.push("["+t[0]+'="'+t[1]+'"]')});else if(a.id&&s.push("#"+a.id),(t=a.className)&&je(t))for(n=t.split(/\s+/),o=0;o<n.length;o++)s.push("."+n[o]);var c=["type","name","title","alt"];for(o=0;o<c.length;o++)r=c[o],(i=a.getAttribute(r))&&s.push("["+r+'="'+i+'"]');return s.join("")}(r,e))||1<o&&80<=a+i.length*s+n.length);)i.push(n),a+=n.length,r=r.parentNode;return i.reverse().join(" > ")}catch(t){return"<unknown>"}}(S=me=me||{}).Ok="ok",S.Exited="exited",S.Crashed="crashed",S.Abnormal="abnormal",(a=zn=zn||{}).Ok="ok",a.Errored="errored",a.Crashed="crashed",(Y=ve=ve||{}).Fatal="fatal",Y.Error="error",Y.Warning="warning",Y.Log="log",Y.Info="info",Y.Debug="debug",Y.Critical="critical",(ye=ve=ve||{}).fromString=function(t){switch(t){case"debug":return ye.Debug;case"info":return ye.Info;case"warn":case"warning":return ye.Warning;case"error":return ye.Error;case"fatal":return ye.Fatal;case"critical":return ye.Critical;default:return ye.Log}},(n=ge=ge||{}).Unknown="unknown",n.Skipped="skipped",n.Success="success",n.RateLimit="rate_limit",n.Invalid="invalid",n.Failed="failed",(_e=ge=ge||{}).fromHttpCode=function(t){return 200<=t&&t<300?_e.Success:429===t?_e.RateLimit:400<=t&&t<500?_e.Invalid:500<=t?_e.Failed:_e.Unknown},(It=be=be||{}).Explicit="explicitly_set",It.Sampler="client_sampler",It.Rate="client_rate",It.Inheritance="inheritance";var Ue=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){return t.__proto__=e,t}:function(t,e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n]);return t});var Me,Fe=(he(He,Me=Error),He);function He(t){var e=this.constructor,n=Me.call(this,t)||this;return n.message=t,n.name=e.prototype.constructor.name,Ue(n,e.prototype),n}var Be=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,ze="Invalid Dsn",We=(Ye.prototype.toString=function(t){var e=this,n=e.host,r=e.path,i=e.pass,o=e.port,a=e.projectId;return e.protocol+"://"+e.publicKey+((t=void 0===t?!1:t)&&i?":"+i:"")+"@"+n+(o?":"+o:"")+"/"+(r&&r+"/")+a},Ye.prototype._fromString=function(t){var e=Be.exec(t);if(!e)throw new Fe(ze);var n=xe(e.slice(1),6),r=n[0],i=n[1],o=n[2],a=void 0===o?"":o,s=n[3],t=n[4],e=void 0===t?"":t,o="",t=n[5],n=t.split("/");1<n.length&&(o=n.slice(0,-1).join("/"),t=n.pop()),!t||(n=t.match(/^\d+/))&&(t=n[0]),this._fromComponents({host:s,pass:a,path:o,projectId:t,port:e,protocol:r,publicKey:i})},Ye.prototype._fromComponents=function(t){"user"in t&&!("publicKey"in t)&&(t.publicKey=t.user),this.user=t.publicKey||"",this.protocol=t.protocol,this.publicKey=t.publicKey||"",this.pass=t.pass||"",this.host=t.host,this.port=t.port||"",this.path=t.path||"",this.projectId=t.projectId},Ye.prototype._validate=function(){var e=this;if(["protocol","publicKey","host","projectId"].forEach(function(t){if(!e[t])throw new Fe(ze+": "+t+" missing")}),!this.projectId.match(/^\d+$/))throw new Fe(ze+": Invalid projectId "+this.projectId);if("http"!==this.protocol&&"https"!==this.protocol)throw new Fe(ze+": Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new Fe(ze+": Invalid port "+this.port)},Ye);function Ye(t){"string"==typeof t?this._fromString(t):this._fromComponents(t),this._validate()}function Ge(){return"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function Je(t,e){return t.require(e)}function Ve(t){try{n=Je(module,t)}catch(t){}try{var e=Je(module,"process").cwd,n=Je(module,e()+"/node_modules/"+t)}catch(t){}return n}function Xe(t,e){return void 0===e&&(e=0),"string"!=typeof t||0===e||t.length<=e?t:t.substr(0,e)+"..."}function $e(t,e){if(!Array.isArray(t))return"";for(var n=[],r=0;r<t.length;r++){var i=t[r];try{n.push(String(i))}catch(t){n.push("[value cannot be serialized]")}}return n.join(e)}function Ke(t,e){return!!je(t)&&("[object RegExp]"===Object.prototype.toString.call(e)?e.test(t):"string"==typeof e&&-1!==t.indexOf(e))}var Qe={};function Ze(){return Ge()?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:Qe}function tn(){var t=Ze(),e=t.crypto||t.msCrypto;if(void 0!==e&&e.getRandomValues){t=new Uint16Array(8);e.getRandomValues(t),t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;e=function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e};return e(t[0])+e(t[1])+e(t[2])+e(t[3])+e(t[4])+e(t[5])+e(t[6])+e(t[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})}function en(t){if(!t)return{};var e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var n=e[6]||"",t=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+n+t}}function nn(t){if(t.message)return t.message;if(t.exception&&t.exception.values&&t.exception.values[0]){var e=t.exception.values[0];return e.type&&e.value?e.type+": "+e.value:e.type||e.value||t.event_id||"<unknown>"}return t.event_id||"<unknown>"}function rn(t){var e=Ze();if(!("console"in e))return t();var n=e.console,r={};["debug","info","warn","error","log","assert"].forEach(function(t){t in e.console&&n[t].__sentry_original__&&(r[t]=n[t],n[t]=n[t].__sentry_original__)});t=t();return Object.keys(r).forEach(function(t){n[t]=r[t]}),t}function on(t,e,n){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].value=t.exception.values[0].value||e||"",t.exception.values[0].type=t.exception.values[0].type||n||"Error"}function an(e,n){void 0===n&&(n={});try{e.exception.values[0].mechanism=e.exception.values[0].mechanism||{},Object.keys(n).forEach(function(t){e.exception.values[0].mechanism[t]=n[t]})}catch(t){}}var sn=Ze(),cn="Sentry Logger ",A=(un.prototype.disable=function(){this._enabled=!1},un.prototype.enable=function(){this._enabled=!0},un.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&rn(function(){sn.console.log(cn+"[Log]: "+t.join(" "))})},un.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&rn(function(){sn.console.warn(cn+"[Warn]: "+t.join(" "))})},un.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&rn(function(){sn.console.error(cn+"[Error]: "+t.join(" "))})},un);function un(){this._enabled=!1}sn.__SENTRY__=sn.__SENTRY__||{};var ln=sn.__SENTRY__.logger||(sn.__SENTRY__.logger=new A),pn=(dn.prototype.memoize=function(t){if(this._hasWeakSet)return!!this._inner.has(t)||(this._inner.add(t),!1);for(var e=0;e<this._inner.length;e++)if(this._inner[e]===t)return!0;return this._inner.push(t),!1},dn.prototype.unmemoize=function(t){if(this._hasWeakSet)this._inner.delete(t);else for(var e=0;e<this._inner.length;e++)if(this._inner[e]===t){this._inner.splice(e,1);break}},dn);function dn(){this._hasWeakSet="function"==typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}var fn="<anonymous>";function hn(t){try{return t&&"function"==typeof t?t.name||fn:fn}catch(t){return fn}}function mn(t){return(mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vn(t,e,n){if(e in t){var r=t[e],n=n(r);if("function"==typeof n)try{n.prototype=n.prototype||{},Object.defineProperties(n,{__sentry_original__:{enumerable:!1,value:r}})}catch(t){}t[e]=n}}function yn(t){if(Oe(t)){var e,n=t,r={message:n.message,name:n.name,stack:n.stack};for(e in n)Object.prototype.hasOwnProperty.call(n,e)&&(r[e]=n[e]);return r}if(De(t)){var i,o=t,a={};a.type=o.type;try{a.target=Ne(o.target)?qe(o.target):Object.prototype.toString.call(o.target)}catch(t){a.target="<unknown>"}try{a.currentTarget=Ne(o.currentTarget)?qe(o.currentTarget):Object.prototype.toString.call(o.currentTarget)}catch(t){a.currentTarget="<unknown>"}for(i in"undefined"!=typeof CustomEvent&&Le(t,CustomEvent)&&(a.detail=o.detail),o)Object.prototype.hasOwnProperty.call(o,i)&&(a[i]=o[i]);return a}return t}function gn(t){return t=JSON.stringify(t),~-encodeURI(t).split(/%..|./).length}function _n(t,e){return"domain"===e&&t&&"object"===mn(t)&&t._events?"[Domain]":"domainEmitter"===e?"[DomainEmitter]":"undefined"!=typeof global&&t===global?"[Global]":"undefined"!=typeof window&&t===window?"[Window]":"undefined"!=typeof document&&t===document?"[Document]":Re(e=t)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e?"[SyntheticEvent]":"number"==typeof t&&t!=t?"[NaN]":void 0===t?"[undefined]":"function"==typeof t?"[Function: "+hn(t)+"]":"symbol"===mn(t)?"["+String(t)+"]":"bigint"==typeof t?"[BigInt: "+String(t)+"]":t}function bn(t,e,n,r){if(void 0===n&&(n=1/0),void 0===r&&(r=new pn),0===n)return i=e,o=Object.prototype.toString.call(i),"string"==typeof i?i:"[object Object]"===o?"[Object]":"[object Array]"===o?"[Array]":Ae(i=_n(i))?i:o;var i,o;if(null!=e&&"function"==typeof e.toJSON)return e.toJSON();t=_n(e,t);if(Ae(t))return t;var a,s=yn(e),c=Array.isArray(e)?[]:{};if(r.memoize(e))return"[Circular ~]";for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(c[a]=bn(a,s[a],n-1,r));return r.unmemoize(e),c}function wn(t,n){try{return JSON.parse(JSON.stringify(t,function(t,e){return bn(t,e,n)}))}catch(t){return"**non-serializable**"}}function Sn(t){var e,n;if(Re(t)){var r=t,i={};try{for(var o=Ee(Object.keys(r)),a=o.next();!a.done;a=o.next()){var s=a.value;void 0!==r[s]&&(i[s]=Sn(r[s]))}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i}return Array.isArray(t)?t.map(Sn):t}function En(){if("fetch"in Ze())try{return new Headers,new Request(""),new Response,1}catch(t){return}}function xn(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}var kn,Tn=Ze(),On={},In={};function Cn(t){var r,a,s,c,e;if(!In[t])switch(In[t]=!0,t){case"console":"console"in Tn&&["debug","info","warn","error","log","assert"].forEach(function(r){r in Tn.console&&vn(Tn.console,r,function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];An("console",{args:t,level:r}),n&&Function.prototype.apply.call(n,Tn.console,t)}})});break;case"dom":"document"in Tn&&(c=An.bind(null,"dom"),e=Nn(c,!0),Tn.document.addEventListener("click",e,!1),Tn.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(function(t){t=Tn[t]&&Tn[t].prototype;t&&t.hasOwnProperty&&t.hasOwnProperty("addEventListener")&&(vn(t,"addEventListener",function(a){return function(t,e,n){if("click"===t||"keypress"==t)try{var r,i=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},o=i[t]=i[t]||{refCount:0};o.handler||(r=Nn(c),o.handler=r,a.call(this,t,r,n)),o.refCount+=1}catch(t){}return a.call(this,t,e,n)}}),vn(t,"removeEventListener",function(o){return function(t,e,n){if("click"===t||"keypress"==t)try{var r=this.__sentry_instrumentation_handlers__||{},i=r[t];i&&(--i.refCount,i.refCount<=0&&(o.call(this,t,i.handler,n),i.handler=void 0,delete r[t]),0===Object.keys(r).length&&delete this.__sentry_instrumentation_handlers__)}catch(t){}return o.call(this,t,e,n)}}))}));break;case"xhr":"XMLHttpRequest"in Tn&&(a=[],s=[],vn(e=XMLHttpRequest.prototype,"open",function(o){return function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var r=this,e=n[1];r.__sentry_xhr__={method:je(n[0])?n[0].toUpperCase():n[0],url:n[1]},je(e)&&"POST"===r.__sentry_xhr__.method&&e.match(/sentry_key/)&&(r.__sentry_own_request__=!0);function i(){if(4===r.readyState){try{r.__sentry_xhr__&&(r.__sentry_xhr__.status_code=r.status)}catch(t){}try{var t,e=a.indexOf(r);-1!==e&&(a.splice(e),t=s.splice(e)[0],r.__sentry_xhr__&&void 0!==t[0]&&(r.__sentry_xhr__.body=t[0]))}catch(t){}An("xhr",{args:n,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:r})}}return"onreadystatechange"in r&&"function"==typeof r.onreadystatechange?vn(r,"onreadystatechange",function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i(),n.apply(r,t)}}):r.addEventListener("readystatechange",i),o.apply(r,n)}}),vn(e,"send",function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return a.push(this),s.push(t),An("xhr",{args:t,startTimestamp:Date.now(),xhr:this}),n.apply(this,t)}}));break;case"fetch":!function(){if(En()){var t=Ze();if(xn(t.fetch))return 1;var e=!1,t=t.document;if(t&&"function"==typeof t.createElement)try{var n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=xn(n.contentWindow.fetch)),t.head.removeChild(n)}catch(t){ln.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return e}}()||vn(Tn,"fetch",function(r){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n={args:t,fetchData:{method:function(t){void 0===t&&(t=[]);if("Request"in Tn&&Le(t[0],Request)&&t[0].method)return String(t[0].method).toUpperCase();if(t[1]&&t[1].method)return String(t[1].method).toUpperCase();return"GET"}(t),url:function(t){void 0===t&&(t=[]);if("string"==typeof t[0])return t[0];if("Request"in Tn&&Le(t[0],Request))return t[0].url;return String(t[0])}(t)},startTimestamp:Date.now()};return An("fetch",we({},n)),r.apply(Tn,t).then(function(t){return An("fetch",we(we({},n),{endTimestamp:Date.now(),response:t})),t},function(t){throw An("fetch",we(we({},n),{endTimestamp:Date.now(),error:t})),t})}});break;case"history":!function(){var t=Ze(),e=(e=t.chrome)&&e.app&&e.app.runtime,t="history"in t&&!!t.history.pushState&&!!t.history.replaceState;return!e&&t}()||(r=Tn.onpopstate,Tn.onpopstate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Tn.location.href;if(An("history",{from:kn,to:kn=n}),r)try{return r.apply(this,t)}catch(t){}},vn(Tn.history,"pushState",n),vn(Tn.history,"replaceState",n));break;case"error":Pn=Tn.onerror,Tn.onerror=function(t,e,n,r,i){return An("error",{column:r,error:i,line:n,msg:t,url:e}),!!Pn&&Pn.apply(this,arguments)};break;case"unhandledrejection":qn=Tn.onunhandledrejection,Tn.onunhandledrejection=function(t){return An("unhandledrejection",t),!qn||qn.apply(this,arguments)};break;default:ln.warn("unknown instrumentation type:",t)}function n(i){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,r=2<t.length?t[2]:void 0;return r&&(n=kn,r=String(r),An("history",{from:n,to:kn=r})),i.apply(this,t)}}}function jn(t){t&&"string"==typeof t.type&&"function"==typeof t.callback&&(On[t.type]=On[t.type]||[],On[t.type].push(t.callback),Cn(t.type))}function An(e,t){var n,r;if(e&&On[e])try{for(var i=Ee(On[e]||[]),o=i.next();!o.done;o=i.next()){var a=o.value;try{a(t)}catch(t){ln.error("Error while triggering instrumentation handler.\nType: "+e+"\nName: "+hn(a)+"\nError: "+t)}}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}var Rn,Dn;function Nn(n,r){return void 0===r&&(r=!1),function(t){var e;t&&Dn!==t&&!function(t){if("keypress"===t.type){try{var e=t.target;if(!e||!e.tagName)return 1;if("INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable)return}catch(t){}return 1}}(t)&&(e="keypress"===t.type?"input":t.type,void 0!==Rn&&!function(t,e){if(!t)return 1;if(t.type!==e.type)return 1;try{if(t.target!==e.target)return 1}catch(t){}}(Dn,t)||(n({event:t,name:e,global:r}),Dn=t),clearTimeout(Rn),Rn=Tn.setTimeout(function(){Rn=void 0},1e3))}}var Pn=null;var Ln,qn=null;(Ft=Ln=Ln||{}).PENDING="PENDING",Ft.RESOLVED="RESOLVED",Ft.REJECTED="REJECTED";var Un=(Mn.resolve=function(e){return new Mn(function(t){t(e)})},Mn.reject=function(n){return new Mn(function(t,e){e(n)})},Mn.all=function(t){return new Mn(function(n,r){var i,o;Array.isArray(t)?0!==t.length?(i=t.length,o=[],t.forEach(function(t,e){Mn.resolve(t).then(function(t){o[e]=t,0===--i&&n(o)}).then(null,r)})):n([]):r(new TypeError("Promise.all requires an array as input."))})},Mn.prototype.then=function(r,i){var t=this;return new Mn(function(e,n){t._attachHandler({done:!1,onfulfilled:function(t){if(r)try{return void e(r(t))}catch(t){return void n(t)}else e(t)},onrejected:function(t){if(i)try{return void e(i(t))}catch(t){return void n(t)}else n(t)}})})},Mn.prototype.catch=function(t){return this.then(function(t){return t},t)},Mn.prototype.finally=function(i){var o=this;return new Mn(function(t,e){var n,r;return o.then(function(t){r=!1,n=t,i&&i()},function(t){r=!0,n=t,i&&i()}).then(function(){(r?e:t)(n)})})},Mn.prototype.toString=function(){return"[object SyncPromise]"},Mn);function Mn(t){var n=this;this._state=Ln.PENDING,this._handlers=[],this._resolve=function(t){n._setResult(Ln.RESOLVED,t)},this._reject=function(t){n._setResult(Ln.REJECTED,t)},this._setResult=function(t,e){n._state===Ln.PENDING&&(Pe(e)?e.then(n._resolve,n._reject):(n._state=t,n._value=e,n._executeHandlers()))},this._attachHandler=function(t){n._handlers=n._handlers.concat(t),n._executeHandlers()},this._executeHandlers=function(){var t;n._state!==Ln.PENDING&&(t=n._handlers.slice(),n._handlers=[],t.forEach(function(t){t.done||(n._state===Ln.RESOLVED&&t.onfulfilled&&t.onfulfilled(n._value),n._state===Ln.REJECTED&&t.onrejected&&t.onrejected(n._value),t.done=!0)}))};try{t(this._resolve,this._reject)}catch(t){this._reject(t)}}var Fn=(Hn.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},Hn.prototype.add=function(t){var e=this;if(!this.isReady())return Un.reject(new Fe("Not adding Promise due to buffer limit reached."));var n=t();return-1===this._buffer.indexOf(n)&&this._buffer.push(n),n.then(function(){return e.remove(n)}).then(null,function(){return e.remove(n).then(null,function(){})}),n},Hn.prototype.remove=function(t){return this._buffer.splice(this._buffer.indexOf(t),1)[0]},Hn.prototype.length=function(){return this._buffer.length},Hn.prototype.drain=function(n){var r=this;return new Un(function(t){var e=setTimeout(function(){n&&0<n&&t(!1)},n);Un.all(r._buffer).then(function(){clearTimeout(e),t(!0)}).then(null,function(){t(!0)})})},Hn);function Hn(t){this._limit=t,this._buffer=[]}S={nowSeconds:function(){return Date.now()/1e3}};var Bn=(Ge()?function(){try{return Je(module,"perf_hooks").performance}catch(t){return}}:function(){var t=Ze().performance;if(t&&t.now)return{now:function(){return t.now()},timeOrigin:Date.now()-t.now()}})(),zn=void 0===Bn?S:{nowSeconds:function(){return(Bn.timeOrigin+Bn.now())/1e3}},Wn=S.nowSeconds.bind(S),Yn=zn.nowSeconds.bind(zn),Gn=Yn,Jn=function(){var t=Ze().performance;if(t&&t.now){var e=t.now(),n=Date.now(),r=t.timeOrigin?Math.abs(t.timeOrigin+e-n):36e5,i=r<36e5,o=t.timing&&t.timing.navigationStart,e="number"==typeof o?Math.abs(o+e-n):36e5;return i||e<36e5?r<=e?t.timeOrigin:o:n}}(),Vn=(Xn.clone=function(t){var e=new Xn;return t&&(e._breadcrumbs=ke(t._breadcrumbs),e._tags=we({},t._tags),e._extra=we({},t._extra),e._contexts=we({},t._contexts),e._user=t._user,e._level=t._level,e._span=t._span,e._session=t._session,e._transactionName=t._transactionName,e._fingerprint=t._fingerprint,e._eventProcessors=ke(t._eventProcessors),e._requestSession=t._requestSession),e},Xn.prototype.addScopeListener=function(t){this._scopeListeners.push(t)},Xn.prototype.addEventProcessor=function(t){return this._eventProcessors.push(t),this},Xn.prototype.setUser=function(t){return this._user=t||{},this._session&&this._session.update({user:t}),this._notifyScopeListeners(),this},Xn.prototype.getUser=function(){return this._user},Xn.prototype.getRequestSession=function(){return this._requestSession},Xn.prototype.setRequestSession=function(t){return this._requestSession=t,this},Xn.prototype.setTags=function(t){return this._tags=we(we({},this._tags),t),this._notifyScopeListeners(),this},Xn.prototype.setTag=function(t,e){var n;return this._tags=we(we({},this._tags),((n={})[t]=e,n)),this._notifyScopeListeners(),this},Xn.prototype.setExtras=function(t){return this._extra=we(we({},this._extra),t),this._notifyScopeListeners(),this},Xn.prototype.setExtra=function(t,e){var n;return this._extra=we(we({},this._extra),((n={})[t]=e,n)),this._notifyScopeListeners(),this},Xn.prototype.setFingerprint=function(t){return this._fingerprint=t,this._notifyScopeListeners(),this},Xn.prototype.setLevel=function(t){return this._level=t,this._notifyScopeListeners(),this},Xn.prototype.setTransactionName=function(t){return this._transactionName=t,this._notifyScopeListeners(),this},Xn.prototype.setTransaction=function(t){return this.setTransactionName(t)},Xn.prototype.setContext=function(t,e){var n;return null===e?delete this._contexts[t]:this._contexts=we(we({},this._contexts),((n={})[t]=e,n)),this._notifyScopeListeners(),this},Xn.prototype.setSpan=function(t){return this._span=t,this._notifyScopeListeners(),this},Xn.prototype.getSpan=function(){return this._span},Xn.prototype.getTransaction=function(){var t,e=this.getSpan();return null!==e&&void 0!==e&&e.transaction?null===e||void 0===e?void 0:e.transaction:null!==(t=null===e||void 0===e?void 0:e.spanRecorder)&&void 0!==t&&t.spans[0]?e.spanRecorder.spans[0]:void 0},Xn.prototype.setSession=function(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this},Xn.prototype.getSession=function(){return this._session},Xn.prototype.update=function(t){if(!t)return this;if("function"!=typeof t)return t instanceof Xn?(this._tags=we(we({},this._tags),t._tags),this._extra=we(we({},this._extra),t._extra),this._contexts=we(we({},this._contexts),t._contexts),t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession)):Re(t)&&(this._tags=we(we({},this._tags),t.tags),this._extra=we(we({},this._extra),t.extra),this._contexts=we(we({},this._contexts),t.contexts),t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession)),this;t=t(this);return t instanceof Xn?t:this},Xn.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},Xn.prototype.addBreadcrumb=function(t,e){e="number"==typeof e?Math.min(e,100):100;if(e<=0)return this;t=we({timestamp:Wn()},t);return this._breadcrumbs=ke(this._breadcrumbs,[t]).slice(-e),this._notifyScopeListeners(),this},Xn.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},Xn.prototype.applyToEvent=function(t,e){var n;return this._extra&&Object.keys(this._extra).length&&(t.extra=we(we({},this._extra),t.extra)),this._tags&&Object.keys(this._tags).length&&(t.tags=we(we({},this._tags),t.tags)),this._user&&Object.keys(this._user).length&&(t.user=we(we({},this._user),t.user)),this._contexts&&Object.keys(this._contexts).length&&(t.contexts=we(we({},this._contexts),t.contexts)),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span&&(t.contexts=we({trace:this._span.getTraceContext()},t.contexts),(n=null===(n=this._span.transaction)||void 0===n?void 0:n.name)&&(t.tags=we({transaction:n},t.tags))),this._applyFingerprint(t),t.breadcrumbs=ke(t.breadcrumbs||[],this._breadcrumbs),t.breadcrumbs=0<t.breadcrumbs.length?t.breadcrumbs:void 0,this._notifyEventProcessors(ke($n(),this._eventProcessors),t,e)},Xn.prototype._notifyEventProcessors=function(r,i,o,a){var s=this;return void 0===a&&(a=0),new Un(function(e,t){var n=r[a];null===i||"function"!=typeof n?e(i):(Pe(n=n(we({},i),o))?n.then(function(t){return s._notifyEventProcessors(r,t,o,a+1).then(e)}):s._notifyEventProcessors(r,n,o,a+1).then(e)).then(null,t)})},Xn.prototype._notifyScopeListeners=function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(t){t(e)}),this._notifyingListeners=!1)},Xn.prototype._applyFingerprint=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},Xn);function Xn(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}function $n(){var t=Ze();return t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.globalEventProcessors=t.__SENTRY__.globalEventProcessors||[],t.__SENTRY__.globalEventProcessors}function Kn(t){$n().push(t)}var Qn=(Zn.prototype.update=function(t){var e;(t=void 0===t?{}:t).user&&(!this.ipAddress&&t.user.ip_address&&(this.ipAddress=t.user.ip_address),this.did||t.did||(this.did=t.user.id||t.user.email||t.user.username)),this.timestamp=t.timestamp||Yn(),t.ignoreDuration&&(this.ignoreDuration=t.ignoreDuration),t.sid&&(this.sid=32===t.sid.length?t.sid:tn()),void 0!==t.init&&(this.init=t.init),!this.did&&t.did&&(this.did=""+t.did),"number"==typeof t.started&&(this.started=t.started),this.ignoreDuration?this.duration=void 0:"number"==typeof t.duration?this.duration=t.duration:(e=this.timestamp-this.started,this.duration=0<=e?e:0),t.release&&(this.release=t.release),t.environment&&(this.environment=t.environment),!this.ipAddress&&t.ipAddress&&(this.ipAddress=t.ipAddress),!this.userAgent&&t.userAgent&&(this.userAgent=t.userAgent),"number"==typeof t.errors&&(this.errors=t.errors),t.status&&(this.status=t.status)},Zn.prototype.close=function(t){t?this.update({status:t}):this.status===me.Ok?this.update({status:me.Exited}):this.update()},Zn.prototype.toJSON=function(){return Sn({sid:""+this.sid,init:this.init,started:new Date(1e3*this.started).toISOString(),timestamp:new Date(1e3*this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"==typeof this.did||"string"==typeof this.did?""+this.did:void 0,duration:this.duration,attrs:Sn({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},Zn);function Zn(t){this.errors=0,this.sid=tn(),this.duration=0,this.status=me.Ok,this.init=!0,this.ignoreDuration=!1;var e=Yn();this.timestamp=e,this.started=e,t&&this.update(t)}var tr=4,er=(nr.prototype.isOlderThan=function(t){return this._version<t},nr.prototype.bindClient=function(t){(this.getStackTop().client=t)&&t.setupIntegrations&&t.setupIntegrations()},nr.prototype.pushScope=function(){var t=Vn.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t},nr.prototype.popScope=function(){return!(this.getStack().length<=1)&&!!this.getStack().pop()},nr.prototype.withScope=function(t){var e=this.pushScope();try{t(e)}finally{this.popScope()}},nr.prototype.getClient=function(){return this.getStackTop().client},nr.prototype.getScope=function(){return this.getStackTop().scope},nr.prototype.getStack=function(){return this._stack},nr.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},nr.prototype.captureException=function(t,e){var n=this._lastEventId=tn(),r=e;if(!e){e=void 0;try{throw new Error("Sentry syntheticException")}catch(t){e=t}r={originalException:t,syntheticException:e}}return this._invokeClient("captureException",t,we(we({},r),{event_id:n})),n},nr.prototype.captureMessage=function(t,e,n){var r=this._lastEventId=tn(),i=n;if(!n){n=void 0;try{throw new Error(t)}catch(t){n=t}i={originalException:t,syntheticException:n}}return this._invokeClient("captureMessage",t,e,we(we({},i),{event_id:r})),r},nr.prototype.captureEvent=function(t,e){var n=this._lastEventId=tn();return this._invokeClient("captureEvent",t,we(we({},e),{event_id:n})),n},nr.prototype.lastEventId=function(){return this._lastEventId},nr.prototype.addBreadcrumb=function(t,e){var n,r,i=this.getStackTop(),o=i.scope,a=i.client;o&&a&&(a=(i=a.getOptions&&a.getOptions()||{}).beforeBreadcrumb,n=void 0===a?null:a,(i=void 0===(a=i.maxBreadcrumbs)?100:a)<=0||(a=Wn(),r=we({timestamp:a},t),null!==(t=n?rn(function(){return n(r,e)}):r)&&o.addBreadcrumb(t,i)))},nr.prototype.setUser=function(t){var e=this.getScope();e&&e.setUser(t)},nr.prototype.setTags=function(t){var e=this.getScope();e&&e.setTags(t)},nr.prototype.setExtras=function(t){var e=this.getScope();e&&e.setExtras(t)},nr.prototype.setTag=function(t,e){var n=this.getScope();n&&n.setTag(t,e)},nr.prototype.setExtra=function(t,e){var n=this.getScope();n&&n.setExtra(t,e)},nr.prototype.setContext=function(t,e){var n=this.getScope();n&&n.setContext(t,e)},nr.prototype.configureScope=function(t){var e=this.getStackTop(),n=e.scope,e=e.client;n&&e&&t(n)},nr.prototype.run=function(t){var e=ir(this);try{t(this)}finally{ir(e)}},nr.prototype.getIntegration=function(e){var t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return ln.warn("Cannot retrieve integration "+e.id+" from the current Hub"),null}},nr.prototype.startSpan=function(t){return this._callExtensionMethod("startSpan",t)},nr.prototype.startTransaction=function(t,e){return this._callExtensionMethod("startTransaction",t,e)},nr.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},nr.prototype.captureSession=function(t){if(t=void 0===t?!1:t)return this.endSession();this._sendSessionUpdate()},nr.prototype.endSession=function(){var t;null!==(t=null===(t=null===(t=this.getStackTop())||void 0===t?void 0:t.scope)||void 0===t?void 0:t.getSession())&&void 0!==t&&t.close(),this._sendSessionUpdate(),null!==(t=null===(t=this.getStackTop())||void 0===t?void 0:t.scope)&&void 0!==t&&t.setSession()},nr.prototype.startSession=function(t){var e=this.getStackTop(),n=e.scope,r=e.client,i=r&&r.getOptions()||{},e=i.release,r=i.environment,i=(Ze().navigator||{}).userAgent,i=new Qn(we(we(we({release:e,environment:r},n&&{user:n.getUser()}),i&&{userAgent:i}),t));return n&&((t=n.getSession&&n.getSession())&&t.status===me.Ok&&t.update({status:me.Exited}),this.endSession(),n.setSession(i)),i},nr.prototype._sendSessionUpdate=function(){var t=this.getStackTop(),e=t.scope,t=t.client;!e||(e=e.getSession&&e.getSession())&&t&&t.captureSession&&t.captureSession(e)},nr.prototype._invokeClient=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=this.getStackTop(),i=r.scope,r=r.client;r&&r[t]&&r[t].apply(r,ke(e,[i]))},nr.prototype._callExtensionMethod=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=rr().__SENTRY__;if(r&&r.extensions&&"function"==typeof r.extensions[t])return r.extensions[t].apply(this,e);ln.warn("Extension method "+t+" couldn't be found, doing nothing.")},nr);function nr(t,e,n){void 0===e&&(e=new Vn),this._version=n=void 0===n?tr:n,this._stack=[{}],this.getStackTop().scope=e,t&&this.bindClient(t)}function rr(){var t=Ze();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}function ir(t){var e=rr(),n=sr(e);return cr(e,t),n}function or(){var t=rr();return ar(t)&&!sr(t).isOlderThan(tr)||cr(t,new er),(Ge()?function(e){var t,n,r;try{var i,o=null===(r=null===(n=null===(t=rr().__SENTRY__)||void 0===t?void 0:t.extensions)||void 0===n?void 0:n.domain)||void 0===r?void 0:r.active;return o?(ar(o)&&!sr(o).isOlderThan(tr)||(i=sr(e).getStackTop(),cr(o,new er(i.client,Vn.clone(i.scope)))),sr(o)):sr(e)}catch(t){return sr(e)}}:sr)(t)}function ar(t){return t&&t.__SENTRY__&&t.__SENTRY__.hub}function sr(t){return t&&t.__SENTRY__&&t.__SENTRY__.hub||(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=new er),t.__SENTRY__.hub}function cr(t,e){return t&&(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=e,1)}function ur(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=or();if(r&&r[t])return r[t].apply(r,ke(e));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}function lr(t,e){var n;try{throw new Error("Sentry syntheticException")}catch(t){n=t}return ur("captureException",t,{captureContext:e,originalException:t,syntheticException:n})}function pr(t){ur("withScope",t)}var dr=(fr.prototype.getDsn=function(){return this._dsnObject},fr.prototype.forceEnvelope=function(){return!!this._tunnel},fr.prototype.getBaseApiEndpoint=function(){var t=this.getDsn(),e=t.protocol?t.protocol+":":"",n=t.port?":"+t.port:"";return e+"//"+t.host+n+(t.path?"/"+t.path:"")+"/api/"},fr.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")},fr.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()},fr.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this.forceEnvelope()?this._tunnel:this._getEnvelopeEndpoint()+"?"+this._encodedAuth()},fr.prototype.getStoreEndpointPath=function(){var t=this.getDsn();return(t.path?"/"+t.path:"")+"/api/"+t.projectId+"/store/"},fr.prototype.getRequestHeaders=function(t,e){var n=this.getDsn(),r=["Sentry sentry_version=7"];return r.push("sentry_client="+t+"/"+e),r.push("sentry_key="+n.publicKey),n.pass&&r.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":r.join(", ")}},fr.prototype.getReportDialogEndpoint=function(t){void 0===t&&(t={});var e,n=this.getDsn(),r=this.getBaseApiEndpoint()+"embed/error-page/",i=[];for(e in i.push("dsn="+n.toString()),t)"dsn"!==e&&("user"===e?t.user&&(t.user.name&&i.push("name="+encodeURIComponent(t.user.name)),t.user.email&&i.push("email="+encodeURIComponent(t.user.email))):i.push(encodeURIComponent(e)+"="+encodeURIComponent(t[e])));return i.length?r+"?"+i.join("&"):r},fr.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")},fr.prototype._getIngestEndpoint=function(t){return this._tunnel||""+this.getBaseApiEndpoint()+this.getDsn().projectId+"/"+t+"/"},fr.prototype._encodedAuth=function(){var e,t={sentry_key:this.getDsn().publicKey,sentry_version:"7"};return e=t,Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")},fr);function fr(t,e,n){void 0===e&&(e={}),this.dsn=t,this._dsnObject=new We(t),this.metadata=e,this._tunnel=n}var hr=[];function mr(t){return t.reduce(function(t,e){return t.every(function(t){return e.name!==t.name})&&t.push(e),t},[])}function vr(t){var e,n,r={};return t=(e=t).defaultIntegrations&&ke(e.defaultIntegrations)||[],n=e.integrations,e=ke(mr(t)),Array.isArray(n)?e=ke(e.filter(function(e){return n.every(function(t){return t.name!==e.name})}),mr(n)):"function"==typeof n&&(e=n(e),e=Array.isArray(e)?e:[e]),-1!==(t=e.map(function(t){return t.name})).indexOf("Debug")&&e.push.apply(e,ke(e.splice(t.indexOf("Debug"),1))),e.forEach(function(t){r[t.name]=t,t=t,-1===hr.indexOf(t.name)&&(t.setupOnce(Kn,or),hr.push(t.name),ln.log("Integration installed: "+t.name))}),Object.defineProperty(r,"initialized",{value:!0}),r}yr.prototype.captureException=function(t,e,n){var r=this,i=e&&e.event_id;return this._process(this._getBackend().eventFromException(t,e).then(function(t){return r._captureEvent(t,e,n)}).then(function(t){i=t})),i},yr.prototype.captureMessage=function(t,e,n,r){var i=this,o=n&&n.event_id,t=Ae(t)?this._getBackend().eventFromMessage(String(t),e,n):this._getBackend().eventFromException(t,n);return this._process(t.then(function(t){return i._captureEvent(t,n,r)}).then(function(t){o=t})),o},yr.prototype.captureEvent=function(t,e,n){var r=e&&e.event_id;return this._process(this._captureEvent(t,e,n).then(function(t){r=t})),r},yr.prototype.captureSession=function(t){this._isEnabled()?"string"!=typeof t.release?ln.warn("Discarded session because of missing or non-string release"):(this._sendSession(t),t.update({init:!1})):ln.warn("SDK not enabled, will not capture session.")},yr.prototype.getDsn=function(){return this._dsn},yr.prototype.getOptions=function(){return this._options},yr.prototype.flush=function(t){var n=this;return this._isClientDoneProcessing(t).then(function(e){return n._getBackend().getTransport().close(t).then(function(t){return e&&t})})},yr.prototype.close=function(t){var e=this;return this.flush(t).then(function(t){return e.getOptions().enabled=!1,t})},yr.prototype.setupIntegrations=function(){this._isEnabled()&&!this._integrations.initialized&&(this._integrations=vr(this._options))},yr.prototype.getIntegration=function(e){try{return this._integrations[e.id]||null}catch(t){return ln.warn("Cannot retrieve integration "+e.id+" from the current Client"),null}},yr.prototype._updateSessionFromEvent=function(t,e){var n,r=!1,i=!1,e=e.exception&&e.exception.values;if(e){i=!0;try{for(var o=Ee(e),a=o.next();!a.done;a=o.next()){var s=a.value.mechanism;if(s&&!1===s.handled){r=!0;break}}}catch(t){c={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(c)throw c.error}}}var c=t.status===me.Ok;(c&&0===t.errors||c&&r)&&(t.update(we(we({},r&&{status:me.Crashed}),{errors:t.errors||Number(i||r)})),this.captureSession(t))},yr.prototype._sendSession=function(t){this._getBackend().sendSession(t)},yr.prototype._isClientDoneProcessing=function(r){var i=this;return new Un(function(t){var e=0,n=setInterval(function(){0==i._numProcessing?(clearInterval(n),t(!0)):(e+=1,r&&r<=e&&(clearInterval(n),t(!1)))},1)})},yr.prototype._getBackend=function(){return this._backend},yr.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},yr.prototype._prepareEvent=function(t,e,n){var r=this,i=this.getOptions().normalizeDepth,o=void 0===i?3:i,i=we(we({},t),{event_id:t.event_id||(n&&n.event_id?n.event_id:tn()),timestamp:t.timestamp||Wn()});this._applyClientOptions(i),this._applyIntegrationsMetadata(i);t=e;n&&n.captureContext&&(t=Vn.clone(t).update(n.captureContext));e=Un.resolve(i);return(e=t?t.applyToEvent(i,n):e).then(function(t){return"number"==typeof o&&0<o?r._normalizeEvent(t,o):t})},yr.prototype._normalizeEvent=function(t,e){if(!t)return null;var n=we(we(we(we(we({},t),t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(function(t){return we(we({},t),t.data&&{data:wn(t.data,e)})})}),t.user&&{user:wn(t.user,e)}),t.contexts&&{contexts:wn(t.contexts,e)}),t.extra&&{extra:wn(t.extra,e)});t.contexts&&t.contexts.trace&&(n.contexts.trace=t.contexts.trace);t=this.getOptions()._experiments;return(void 0===t?{}:t).ensureNoCircularStructures?wn(n):n},yr.prototype._applyClientOptions=function(t){var e=this.getOptions(),n=e.environment,r=e.release,i=e.dist,o=e.maxValueLength,o=void 0===o?250:o;"environment"in t||(t.environment="environment"in e?n:"production"),void 0===t.release&&void 0!==r&&(t.release=r),void 0===t.dist&&void 0!==i&&(t.dist=i),t.message&&(t.message=Xe(t.message,o));i=t.exception&&t.exception.values&&t.exception.values[0];i&&i.value&&(i.value=Xe(i.value,o));t=t.request;t&&t.url&&(t.url=Xe(t.url,o))},yr.prototype._applyIntegrationsMetadata=function(t){var e=Object.keys(this._integrations);0<e.length&&(t.sdk=t.sdk||{},t.sdk.integrations=ke(t.sdk.integrations||[],e))},yr.prototype._sendEvent=function(t){this._getBackend().sendEvent(t)},yr.prototype._captureEvent=function(t,e,n){return this._processEvent(t,e,n).then(function(t){return t.event_id},function(t){ln.error(t)})},yr.prototype._processEvent=function(t,e,n){var r=this,i=this.getOptions(),o=i.beforeSend,i=i.sampleRate;if(!this._isEnabled())return Un.reject(new Fe("SDK not enabled, will not capture event."));var a="transaction"===t.type;return!a&&"number"==typeof i&&Math.random()>i?Un.reject(new Fe("Discarding event because it's not included in the random sample (sampling rate = "+i+")")):this._prepareEvent(t,n,e).then(function(t){if(null===t)throw new Fe("An event processor returned null, will not send event.");if(e&&e.data&&!0===e.data.__sentry__||a||!o)return t;t=o(t,e);return r._ensureBeforeSendRv(t)}).then(function(t){if(null===t)throw new Fe("`beforeSend` returned `null`, will not send event.");var e=n&&n.getSession&&n.getSession();return!a&&e&&r._updateSessionFromEvent(e,t),r._sendEvent(t),t}).then(null,function(t){if(t instanceof Fe)throw t;throw r.captureException(t,{data:{__sentry__:!0},originalException:t}),new Fe("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+t)})},yr.prototype._process=function(t){var e=this;this._numProcessing+=1,t.then(function(t){return--e._numProcessing,t},function(t){return--e._numProcessing,t})},yr.prototype._ensureBeforeSendRv=function(t){var e="`beforeSend` method has to return `null` or a valid event.";if(Pe(t))return t.then(function(t){if(!Re(t)&&null!==t)throw new Fe(e);return t},function(t){throw new Fe("beforeSend rejected with "+t)});if(!Re(t)&&null!==t)throw new Fe(e);return t},a=yr;function yr(t,e){this._integrations={},this._numProcessing=0,this._backend=new t(e),(this._options=e).dsn&&(this._dsn=new We(e.dsn))}var gr=(_r.prototype.sendEvent=function(t){return Un.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:ge.Skipped})},_r.prototype.close=function(t){return Un.resolve(!0)},_r);function _r(){}br.prototype.eventFromException=function(t,e){throw new Fe("Backend has to implement `eventFromException` method")},br.prototype.eventFromMessage=function(t,e,n){throw new Fe("Backend has to implement `eventFromMessage` method")},br.prototype.sendEvent=function(t){this._transport.sendEvent(t).then(null,function(t){ln.error("Error while sending event: "+t)})},br.prototype.sendSession=function(t){this._transport.sendSession?this._transport.sendSession(t).then(null,function(t){ln.error("Error while sending session: "+t)}):ln.warn("Dropping session because custom transport doesn't implement sendSession")},br.prototype.getTransport=function(){return this._transport},br.prototype._setupTransport=function(){return new gr},Y=br;function br(t){this._options=t,this._options.dsn||ln.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}function wr(t){if(t.metadata&&t.metadata.sdk){t=t.metadata.sdk;return{name:t.name,version:t.version}}}function Sr(t,e){var n=wr(e),r=JSON.stringify(we(we({sent_at:(new Date).toISOString()},n&&{sdk:n}),e.forceEnvelope()&&{dsn:e.getDsn().toString()})),n="aggregates"in t?"sessions":"session";return{body:r+"\n"+JSON.stringify({type:n})+"\n"+JSON.stringify(t),type:n,url:e.getEnvelopeEndpointWithUrlEncodedAuth()}}function Er(t,e){var n=wr(e),r=t.type||"event",i="transaction"===r||e.forceEnvelope(),o=t.debug_meta||{},a=o.transactionSampling,s=Se(o,["transactionSampling"]),o=a||{},a=o.method,o=o.rate;0===Object.keys(s).length?delete t.debug_meta:t.debug_meta=s;var c,c={body:JSON.stringify(n?(c=t,(s=e.metadata.sdk)&&(c.sdk=c.sdk||{},c.sdk.name=c.sdk.name||s.name,c.sdk.version=c.sdk.version||s.version,c.sdk.integrations=ke(c.sdk.integrations||[],s.integrations||[]),c.sdk.packages=ke(c.sdk.packages||[],s.packages||[])),c):t),type:r,url:i?e.getEnvelopeEndpointWithUrlEncodedAuth():e.getStoreEndpointWithUrlEncodedAuth()};return i&&(o=JSON.stringify(we(we({event_id:t.event_id,sent_at:(new Date).toISOString()},n&&{sdk:n}),e.forceEnvelope()&&{dsn:e.getDsn().toString()}))+"\n"+JSON.stringify({type:r,sample_rates:[{id:a,rate:o}]})+"\n"+c.body,c.body=o),c}var xr,kr="6.11.0",n=(Tr.prototype.setupOnce=function(){xr=Function.prototype.toString,Function.prototype.toString=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.__sentry_original__||this;return xr.apply(n,t)}},Tr.id="FunctionToString",Tr);function Tr(){this.name=Tr.id}var Or=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],It=(Ir.prototype.setupOnce=function(){Kn(function(t){var e=or();if(!e)return t;var n=e.getIntegration(Ir);if(n){e=e.getClient(),e=e?e.getOptions():{},e="function"==typeof n._mergeOptions?n._mergeOptions(e):{};return"function"!=typeof n._shouldDropEvent?t:n._shouldDropEvent(t,e)?null:t}return t})},Ir.prototype._shouldDropEvent=function(t,e){return this._isSentryError(t,e)?(ln.warn("Event dropped due to being internal Sentry Error.\nEvent: "+nn(t)),!0):this._isIgnoredError(t,e)?(ln.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+nn(t)),!0):this._isDeniedUrl(t,e)?(ln.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+nn(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0):!this._isAllowedUrl(t,e)&&(ln.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+nn(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0)},Ir.prototype._isSentryError=function(t,e){if(!e.ignoreInternal)return!1;try{return t&&t.exception&&t.exception.values&&t.exception.values[0]&&"SentryError"===t.exception.values[0].type||!1}catch(t){return!1}},Ir.prototype._isIgnoredError=function(t,n){return!(!n.ignoreErrors||!n.ignoreErrors.length)&&this._getPossibleEventMessages(t).some(function(e){return n.ignoreErrors.some(function(t){return Ke(e,t)})})},Ir.prototype._isDeniedUrl=function(t,e){if(!e.denyUrls||!e.denyUrls.length)return!1;var n=this._getEventFilterUrl(t);return!!n&&e.denyUrls.some(function(t){return Ke(n,t)})},Ir.prototype._isAllowedUrl=function(t,e){if(!e.allowUrls||!e.allowUrls.length)return!0;var n=this._getEventFilterUrl(t);return!n||e.allowUrls.some(function(t){return Ke(n,t)})},Ir.prototype._mergeOptions=function(t){return{allowUrls:ke(this._options.whitelistUrls||[],this._options.allowUrls||[],(t=void 0===t?{}:t).whitelistUrls||[],t.allowUrls||[]),denyUrls:ke(this._options.blacklistUrls||[],this._options.denyUrls||[],t.blacklistUrls||[],t.denyUrls||[]),ignoreErrors:ke(this._options.ignoreErrors||[],t.ignoreErrors||[],Or),ignoreInternal:void 0===this._options.ignoreInternal||this._options.ignoreInternal}},Ir.prototype._getPossibleEventMessages=function(e){if(e.message)return[e.message];if(e.exception)try{var t=e.exception.values&&e.exception.values[0]||{},n=t.type,r=void 0===n?"":n,i=t.value,o=void 0===i?"":i;return[""+o,r+": "+o]}catch(t){return ln.error("Cannot extract message for event "+nn(e)),[]}return[]},Ir.prototype._getLastValidUrl=function(t){for(var e=(t=void 0===t?[]:t).length-1;0<=e;e--){var n=t[e];if("<anonymous>"!==(null===n||void 0===n?void 0:n.filename))return n.filename||null}return null},Ir.prototype._getEventFilterUrl=function(e){try{if(e.stacktrace){var t=e.stacktrace.frames;return this._getLastValidUrl(t)}if(e.exception){var n=e.exception.values&&e.exception.values[0].stacktrace&&e.exception.values[0].stacktrace.frames;return this._getLastValidUrl(n)}return null}catch(t){return ln.error("Cannot extract url for event "+nn(e)),null}},Ir.id="InboundFilters",Ir);function Ir(t){this._options=t=void 0===t?{}:t,this.name=Ir.id}var Cr="?",jr=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Ar=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Rr=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Dr=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Nr=/\((\S*)(?::(\d+))(?::(\d+))\)/,Pr=/Minified React error #\d+;/i;function Lr(t){var e=null,n=0;t&&("number"==typeof t.framesToPop?n=t.framesToPop:Pr.test(t.message)&&(n=1));try{if(e=function(t){if(!t||!t.stacktrace)return null;for(var e,n=t.stacktrace,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,i=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\((.*)\))? in (.*):\s*$/i,o=n.split("\n"),a=[],s=0;s<o.length;s+=2){var c=null;(e=r.exec(o[s]))?c={url:e[2],func:e[3],args:[],line:+e[1],column:null}:(e=i.exec(o[s]))&&(c={url:e[6],func:e[3]||e[4],args:e[5]?e[5].split(","):[],line:+e[1],column:+e[2]}),c&&(!c.func&&c.line&&(c.func=Cr),a.push(c))}return a.length?{message:Ur(t),name:t.name,stack:a}:null}(t))return qr(e,n)}catch(t){}try{if(e=function(t){if(!t||!t.stack)return null;for(var e,n,r=[],i=t.stack.split("\n"),o=0;o<i.length;++o){if(n=jr.exec(i[o])){var a=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(e=Nr.exec(n[2]))&&(n[2]=e[1],n[3]=e[2],n[4]=e[3]);var s=n[2]&&0===n[2].indexOf("address at ")?n[2].substr("address at ".length):n[2],c=n[1]||Cr,u=-1!==c.indexOf("safari-extension"),l=-1!==c.indexOf("safari-web-extension");(u||l)&&(c=-1!==c.indexOf("@")?c.split("@")[0]:Cr,s=u?"safari-extension:"+s:"safari-web-extension:"+s),a={url:s,func:c,args:a?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=Rr.exec(i[o]))a={url:n[2],func:n[1]||Cr,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=Ar.exec(i[o])))continue;n[3]&&-1<n[3].indexOf(" > eval")&&(e=Dr.exec(n[3]))?(n[1]=n[1]||"eval",n[3]=e[1],n[4]=e[2],n[5]=""):0!==o||n[5]||void 0===t.columnNumber||(r[0].column=t.columnNumber+1),a={url:n[3],func:n[1]||Cr,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!a.func&&a.line&&(a.func=Cr),r.push(a)}return r.length?{message:Ur(t),name:t.name,stack:r}:null}(t))return qr(e,n)}catch(t){}return{message:Ur(t),name:t&&t.name,stack:[],failed:!0}}function qr(e,t){try{return we(we({},e),{stack:e.stack.slice(t)})}catch(t){return e}}function Ur(t){t=t&&t.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}var Mr=50;function Fr(t){var e=zr(t.stack),t={type:t.name,value:t.message};return e&&e.length&&(t.stacktrace={frames:e}),void 0===t.type&&""===t.value&&(t.value="Unrecoverable error caught"),t}function Hr(t,e,n){t={exception:{values:[{type:De(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+function(t,e){void 0===e&&(e=40);var n=Object.keys(yn(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return Xe(n[0],e);for(var r=n.length;0<r;r--){var i=n.slice(0,r).join(", ");if(!(i.length>e))return r===n.length?i:Xe(i,e)}return""}(t)}]},extra:{__serialized__:function t(e,n,r){void 0===r&&(r=102400);var i=wn(e,n=void 0===n?3:n);return gn(i)>r?t(e,n-1,r):i}(t)}};return e&&(e=zr(Lr(e).stack),t.stacktrace={frames:e}),t}function Br(t){return{exception:{values:[Fr(t)]}}}function zr(t){if(!t||!t.length)return[];var e=t,n=e[0].func||"",t=e[e.length-1].func||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(e=e.slice(1)),(e=-1!==t.indexOf("sentryWrapped")?e.slice(0,-1):e).slice(0,Mr).map(function(t){return{colno:null===t.column?void 0:t.column,filename:t.url||e[0].url,function:t.func||"?",in_app:!0,lineno:null===t.line?void 0:t.line}}).reverse()}function Wr(t,e,n){if(void 0===n&&(n={}),Ie(t)&&t.error)return r=Br(Lr(t=t.error));if(Ce(t)||(o=t,"[object DOMException]"===Object.prototype.toString.call(o))){var r,i=t,o=i.name||(Ce(i)?"DOMError":"DOMException"),o=i.message?o+": "+i.message:o;return on(r=Yr(o,e,n),o),"code"in i&&(r.tags=we(we({},r.tags),{"DOMException.code":""+i.code})),r}return Oe(t)?r=Br(Lr(t)):(Re(t)||De(t)?an(r=Hr(t,e,n.rejection),{synthetic:!0}):(on(r=Yr(t,e,n),""+t,void 0),an(r,{synthetic:!0})),r)}function Yr(t,e,n){t={message:t};return(n=void 0===n?{}:n).attachStacktrace&&e&&(e=zr(Lr(e).stack),t.stacktrace={frames:e}),t}var Gr={event:"error",transaction:"transaction",session:"session",attachment:"attachment"},A=(Jr.prototype.sendEvent=function(t){throw new Fe("Transport Class has to implement `sendEvent` method")},Jr.prototype.close=function(t){return this._buffer.drain(t)},Jr.prototype._handleResponse=function(t){var e=t.requestType,n=t.response,r=t.headers,i=t.resolve,o=t.reject,t=ge.fromHttpCode(n.status);this._handleRateLimit(r)&&ln.warn("Too many "+e+" requests, backing off until: "+this._disabledUntil(e)),t!==ge.Success?o(n):i({status:t})},Jr.prototype._disabledUntil=function(t){return this._rateLimits[Gr[t]]||this._rateLimits.all},Jr.prototype._isRateLimited=function(t){return this._disabledUntil(t)>new Date(Date.now())},Jr.prototype._handleRateLimit=function(t){var e,n,r,i,o=Date.now(),a=t["x-sentry-rate-limits"],t=t["retry-after"];if(a){try{for(var s=Ee(a.trim().split(",")),c=s.next();!c.done;c=s.next()){var u=c.value.split(":",2),l=parseInt(u[0],10),p=1e3*(isNaN(l)?60:l);try{for(var d=(r=void 0,Ee(u[1].split(";"))),f=d.next();!f.done;f=d.next()){var h=f.value;this._rateLimits[h||"all"]=new Date(o+p)}}catch(t){r={error:t}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return!0}return!!t&&(this._rateLimits.all=new Date(o+function(t,e){if(!e)return 6e4;var n=parseInt(""+e,10);return isNaN(n)?(e=Date.parse(""+e),isNaN(e)?6e4:e-t):1e3*n}(o,t)),!0)},Jr);function Jr(t){this.options=t,this._buffer=new Fn(30),this._rateLimits={},this._api=new dr(t.dsn,t._metadata,t.tunnel),this.url=this._api.getStoreEndpointWithUrlEncodedAuth()}var Vr,Xr=(he($r,Vr=A),$r.prototype.sendEvent=function(t){return this._sendRequest(Er(t,this._api),t)},$r.prototype.sendSession=function(t){return this._sendRequest(Sr(t,this._api),t)},$r.prototype._sendRequest=function(i,t){var o=this;if(this._isRateLimited(i.type))return Promise.reject({event:t,type:i.type,reason:"Transport for "+i.type+" requests locked till "+this._disabledUntil(i.type)+" due to too many requests.",status:429});var e={body:i.body,method:"POST",referrerPolicy:function(){if(En())try{return new Request("_",{referrerPolicy:"origin"}),1}catch(t){return}}()?"origin":""};return void 0!==this.options.fetchParameters&&Object.assign(e,this.options.fetchParameters),void 0!==this.options.headers&&(e.headers=this.options.headers),this._buffer.add(function(){return new Un(function(n,r){o._fetch(i.url,e).then(function(t){var e={"x-sentry-rate-limits":t.headers.get("X-Sentry-Rate-Limits"),"retry-after":t.headers.get("Retry-After")};o._handleResponse({requestType:i.type,response:t,headers:e,resolve:n,reject:r})}).catch(r)})})},$r);function $r(t,e){void 0===e&&(e=function(){var t,e=Ze();if(xn(e.fetch))return e.fetch.bind(e);var n=e.document,r=e.fetch;if("function"==typeof(null===n||void 0===n?void 0:n.createElement))try{var i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i),null!==(t=i.contentWindow)&&void 0!==t&&t.fetch&&(r=i.contentWindow.fetch),n.head.removeChild(i)}catch(t){ln.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return r.bind(e)}());t=Vr.call(this,t)||this;return t._fetch=e,t}var Kr,Qr=(he(Zr,Kr=A),Zr.prototype.sendEvent=function(t){return this._sendRequest(Er(t,this._api),t)},Zr.prototype.sendSession=function(t){return this._sendRequest(Sr(t,this._api),t)},Zr.prototype._sendRequest=function(i,t){var o=this;return this._isRateLimited(i.type)?Promise.reject({event:t,type:i.type,reason:"Transport for "+i.type+" requests locked till "+this._disabledUntil(i.type)+" due to too many requests.",status:429}):this._buffer.add(function(){return new Un(function(e,n){var t,r=new XMLHttpRequest;for(t in r.onreadystatechange=function(){var t;4===r.readyState&&(t={"x-sentry-rate-limits":r.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":r.getResponseHeader("Retry-After")},o._handleResponse({requestType:i.type,response:r,headers:t,resolve:e,reject:n}))},r.open("POST",i.url),o.options.headers)o.options.headers.hasOwnProperty(t)&&r.setRequestHeader(t,o.options.headers[t]);r.send(i.body)})})},Zr);function Zr(){return null!==Kr&&Kr.apply(this,arguments)||this}var ti,ei=(he(ni,ti=Y),ni.prototype.eventFromException=function(t,e){return n=this._options,an(n=Wr(t,(e=e)&&e.syntheticException||void 0,{attachStacktrace:n.attachStacktrace}),{handled:!0,type:"generic"}),n.level=ve.Error,e&&e.event_id&&(n.event_id=e.event_id),Un.resolve(n);var n},ni.prototype.eventFromMessage=function(t,e,n){return void 0===e&&(e=ve.Info),r=this._options,n=n,void 0===(e=e)&&(e=ve.Info),(r=Yr(t,n&&n.syntheticException||void 0,{attachStacktrace:r.attachStacktrace})).level=e,n&&n.event_id&&(r.event_id=n.event_id),Un.resolve(r);var r},ni.prototype._setupTransport=function(){if(!this._options.dsn)return ti.prototype._setupTransport.call(this);var t=we(we({},this._options.transportOptions),{dsn:this._options.dsn,tunnel:this._options.tunnel,_metadata:this._options._metadata});return new(this._options.transport||(En()?Xr:Qr))(t)},ni);function ni(){return null!==ti&&ti.apply(this,arguments)||this}var ri=0;function ii(e,r,i){if(void 0===r&&(r={}),"function"!=typeof e)return e;try{if(e.__sentry__)return e;if(e.__sentry_wrapped__)return e.__sentry_wrapped__}catch(t){return e}function t(){var n=Array.prototype.slice.call(arguments);try{i&&"function"==typeof i&&i.apply(this,arguments);var t=n.map(function(t){return ii(t,r)});return e.handleEvent?e.handleEvent.apply(this,t):e.apply(this,t)}catch(e){throw ri+=1,setTimeout(function(){--ri}),pr(function(t){t.addEventProcessor(function(t){t=we({},t);return r.mechanism&&(on(t,void 0,void 0),an(t,r.mechanism)),t.extra=we(we({},t.extra),{arguments:n}),t}),lr(e)}),e}}try{for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}catch(t){}e.prototype=e.prototype||{},t.prototype=e.prototype,Object.defineProperty(e,"__sentry_wrapped__",{enumerable:!1,value:t}),Object.defineProperties(t,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:e}});try{Object.getOwnPropertyDescriptor(t,"name").configurable&&Object.defineProperty(t,"name",{get:function(){return e.name}})}catch(t){}return t}oi.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(ln.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(ln.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},oi.prototype._installGlobalOnErrorHandler=function(){var o=this;this._onErrorHandlerInstalled||(jn({callback:function(t){var e=t.error,n=or(),r=n.getIntegration(oi),i=e&&!0===e.__sentry_own_request__;!r||0<ri||i||(i=n.getClient(),an(t=void 0===e&&je(t.msg)?o._eventFromIncompleteOnError(t.msg,t.url,t.line,t.column):o._enhanceEventWithInitialFrame(Wr(e||t.msg,void 0,{attachStacktrace:i&&i.getOptions().attachStacktrace,rejection:!1}),t.url,t.line,t.column),{handled:!1,type:"onerror"}),n.captureEvent(t,{originalException:e}))},type:"error"}),this._onErrorHandlerInstalled=!0)},oi.prototype._installGlobalOnUnhandledRejectionHandler=function(){var i=this;this._onUnhandledRejectionHandlerInstalled||(jn({callback:function(t){var e=t;try{"reason"in t?e=t.reason:"detail"in t&&"reason"in t.detail&&(e=t.detail.reason)}catch(t){}var n=or(),r=n.getIntegration(oi),t=e&&!0===e.__sentry_own_request__;if(!r||0<ri||t)return!0;t=n.getClient(),t=Ae(e)?i._eventFromRejectionWithPrimitive(e):Wr(e,void 0,{attachStacktrace:t&&t.getOptions().attachStacktrace,rejection:!0});t.level=ve.Error,an(t,{handled:!1,type:"onunhandledrejection"}),n.captureEvent(t,{originalException:e})},type:"unhandledrejection"}),this._onUnhandledRejectionHandlerInstalled=!0)},oi.prototype._eventFromIncompleteOnError=function(t,e,n,r){var i,o=Ie(t)?t.message:t,t=o.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);return t&&(i=t[1],o=t[2]),this._enhanceEventWithInitialFrame({exception:{values:[{type:i||"Error",value:o}]}},e,n,r)},oi.prototype._eventFromRejectionWithPrimitive=function(t){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(t)}]}}},oi.prototype._enhanceEventWithInitialFrame=function(t,e,n,r){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].stacktrace=t.exception.values[0].stacktrace||{},t.exception.values[0].stacktrace.frames=t.exception.values[0].stacktrace.frames||[];r=isNaN(parseInt(r,10))?void 0:r,n=isNaN(parseInt(n,10))?void 0:n,e=je(e)&&0<e.length?e:function(){try{return document.location.href}catch(t){return""}}();return 0===t.exception.values[0].stacktrace.frames.length&&t.exception.values[0].stacktrace.frames.push({colno:r,filename:e,function:"?",in_app:!0,lineno:n}),t},oi.id="GlobalHandlers",Ft=oi;function oi(t){this.name=oi.id,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=we({onerror:!0,onunhandledrejection:!0},t)}var ai=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],S=(si.prototype.setupOnce=function(){var t=Ze();this._options.setTimeout&&vn(t,"setTimeout",this._wrapTimeFunction.bind(this)),this._options.setInterval&&vn(t,"setInterval",this._wrapTimeFunction.bind(this)),this._options.requestAnimationFrame&&vn(t,"requestAnimationFrame",this._wrapRAF.bind(this)),this._options.XMLHttpRequest&&"XMLHttpRequest"in t&&vn(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),this._options.eventTarget&&(Array.isArray(this._options.eventTarget)?this._options.eventTarget:ai).forEach(this._wrapEventTarget.bind(this))},si.prototype._wrapTimeFunction=function(r){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0];return t[0]=ii(n,{mechanism:{data:{function:hn(r)},handled:!0,type:"instrument"}}),r.apply(this,t)}},si.prototype._wrapRAF=function(e){return function(t){return e.call(this,ii(t,{mechanism:{data:{function:"requestAnimationFrame",handler:hn(e)},handled:!0,type:"instrument"}}))}},si.prototype._wrapEventTarget=function(i){var t=Ze(),t=t[i]&&t[i].prototype;t&&t.hasOwnProperty&&t.hasOwnProperty("addEventListener")&&(vn(t,"addEventListener",function(r){return function(t,e,n){try{"function"==typeof e.handleEvent&&(e.handleEvent=ii(e.handleEvent.bind(e),{mechanism:{data:{function:"handleEvent",handler:hn(e),target:i},handled:!0,type:"instrument"}}))}catch(t){}return r.call(this,t,ii(e,{mechanism:{data:{function:"addEventListener",handler:hn(e),target:i},handled:!0,type:"instrument"}}),n)}}),vn(t,"removeEventListener",function(i){return function(t,e,n){try{var r=null===e||void 0===e?void 0:e.__sentry_wrapped__;r&&i.call(this,t,r,n)}catch(t){}return i.call(this,t,e,n)}}))},si.prototype._wrapXHR=function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(function(n){n in r&&"function"==typeof r[n]&&vn(r,n,function(t){var e={mechanism:{data:{function:n,handler:hn(t)},handled:!0,type:"instrument"}};return t.__sentry_original__&&(e.mechanism.data.handler=hn(t.__sentry_original__)),ii(t,e)})}),n.apply(this,t)}},si.id="TryCatch",si);function si(t){this.name=si.id,this._options=we({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},t)}function ci(t){return(ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var ui=(li.prototype.addSentryBreadcrumb=function(t){this._options.sentry&&or().addBreadcrumb({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:nn(t)},{event:t})},li.prototype.setupOnce=function(){var n=this;this._options.console&&jn({callback:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];n._consoleBreadcrumb.apply(n,ke(t))},type:"console"}),this._options.dom&&jn({callback:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];n._domBreadcrumb.apply(n,ke(t))},type:"dom"}),this._options.xhr&&jn({callback:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];n._xhrBreadcrumb.apply(n,ke(t))},type:"xhr"}),this._options.fetch&&jn({callback:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];n._fetchBreadcrumb.apply(n,ke(t))},type:"fetch"}),this._options.history&&jn({callback:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];n._historyBreadcrumb.apply(n,ke(t))},type:"history"})},li.prototype._consoleBreadcrumb=function(t){var e={category:"console",data:{arguments:t.args,logger:"console"},level:ve.fromString(t.level),message:$e(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;e.message="Assertion failed: "+($e(t.args.slice(1)," ")||"console.assert"),e.data.arguments=t.args.slice(1)}or().addBreadcrumb(e,{input:t.args,level:t.level})},li.prototype._domBreadcrumb=function(t){var e,n="object"===ci(this._options.dom)?this._options.dom.serializeAttribute:void 0;"string"==typeof n&&(n=[n]);try{e=t.event.target?qe(t.event.target,n):qe(t.event,n)}catch(t){e="<unknown>"}0!==e.length&&or().addBreadcrumb({category:"ui."+t.name,message:e},{event:t.event,name:t.name,global:t.global})},li.prototype._xhrBreadcrumb=function(t){var e,n,r,i;t.endTimestamp&&(t.xhr.__sentry_own_request__||(e=(i=t.xhr.__sentry_xhr__||{}).method,n=i.url,r=i.status_code,i=i.body,or().addBreadcrumb({category:"xhr",data:{method:e,url:n,status_code:r},type:"http"},{xhr:t.xhr,input:i})))},li.prototype._fetchBreadcrumb=function(t){t.endTimestamp&&(t.fetchData.url.match(/sentry_key/)&&"POST"===t.fetchData.method||(t.error?or().addBreadcrumb({category:"fetch",data:t.fetchData,level:ve.Error,type:"http"},{data:t.error,input:t.args}):or().addBreadcrumb({category:"fetch",data:we(we({},t.fetchData),{status_code:t.response.status}),type:"http"},{input:t.args,response:t.response})))},li.prototype._historyBreadcrumb=function(t){var e=Ze(),n=t.from,r=t.to,i=en(e.location.href),t=en(n),e=en(r);t.path||(t=i),i.protocol===e.protocol&&i.host===e.host&&(r=e.relative),i.protocol===t.protocol&&i.host===t.host&&(n=t.relative),or().addBreadcrumb({category:"navigation",data:{from:n,to:r}})},li.id="Breadcrumbs",li);function li(t){this.name=li.id,this._options=we({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t)}pi.prototype.setupOnce=function(){Kn(function(t,e){var n=or().getIntegration(pi);if(n){n=n._handler&&n._handler.bind(n);return"function"==typeof n?n(t,e):t}return t})},pi.prototype._handler=function(t,e){if(!(t.exception&&t.exception.values&&e&&Le(e.originalException,Error)))return t;e=this._walkErrorTree(e.originalException,this._key);return t.exception.values=ke(e,t.exception.values),t},pi.prototype._walkErrorTree=function(t,e,n){if(void 0===n&&(n=[]),!Le(t[e],Error)||n.length+1>=this._limit)return n;var r=Fr(Lr(t[e]));return this._walkErrorTree(t[e],e,ke([r],n))},pi.id="LinkedErrors",zn=pi;function pi(t){void 0===t&&(t={}),this.name=pi.id,this._key=t.key||"cause",this._limit=t.limit||5}var di=Ze(),A=(fi.prototype.setupOnce=function(){Kn(function(t){var e;if(or().getIntegration(fi)){if(!di.navigator&&!di.location&&!di.document)return t;var n=(null===(i=t.request)||void 0===i?void 0:i.url)||(null===(e=di.location)||void 0===e?void 0:e.href),r=(di.document||{}).referrer,i=(di.navigator||{}).userAgent,i=we(we(we({},null===(e=t.request)||void 0===e?void 0:e.headers),r&&{Referer:r}),i&&{"User-Agent":i}),i=we(we({},n&&{url:n}),{headers:i});return we(we({},t),{request:i})}return t})},fi.id="UserAgent",fi);function fi(){this.name=fi.id}hi.prototype.setupOnce=function(t,r){t(function(e){var n=r().getIntegration(hi);if(n){try{if(n._shouldDropEvent(e,n._previousEvent))return null}catch(t){return n._previousEvent=e}return n._previousEvent=e}return e})},hi.prototype._shouldDropEvent=function(t,e){return!!e&&(!!this._isSameMessageEvent(t,e)||!!this._isSameExceptionEvent(t,e))},hi.prototype._isSameMessageEvent=function(t,e){var n=t.message,r=e.message;return!(!n&&!r)&&(!(n&&!r||!n&&r)&&(n===r&&(!!this._isSameFingerprint(t,e)&&!!this._isSameStacktrace(t,e))))},hi.prototype._getFramesFromEvent=function(t){var e=t.exception;if(e)try{return e.values[0].stacktrace.frames}catch(t){return}else if(t.stacktrace)return t.stacktrace.frames},hi.prototype._isSameStacktrace=function(t,e){var n=this._getFramesFromEvent(t),r=this._getFramesFromEvent(e);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(var i=0;i<r.length;i++){var o=r[i],a=n[i];if(o.filename!==a.filename||o.lineno!==a.lineno||o.colno!==a.colno||o.function!==a.function)return!1}return!0},hi.prototype._getExceptionFromEvent=function(t){return t.exception&&t.exception.values&&t.exception.values[0]},hi.prototype._isSameExceptionEvent=function(t,e){var n=this._getExceptionFromEvent(e),r=this._getExceptionFromEvent(t);return!(!n||!r)&&(n.type===r.type&&n.value===r.value&&(!!this._isSameFingerprint(t,e)&&!!this._isSameStacktrace(t,e)))},hi.prototype._isSameFingerprint=function(t,e){t=t.fingerprint,e=e.fingerprint;if(!t&&!e)return!0;if(t&&!e||!t&&e)return!1;try{return!(t.join("")!==e.join(""))}catch(t){return!1}},hi.id="Dedupe",Y=hi;function hi(){this.name=hi.id}var mi,vi=(he(yi,mi=a),yi.prototype.showReportDialog=function(t){var e;void 0===t&&(t={}),Ze().document&&(this._isEnabled()?(e=void 0===(e=we(we({},t),{dsn:t.dsn||this.getDsn()}))?{}:e).eventId?e.dsn?((t=document.createElement("script")).async=!0,t.src=new dr(e.dsn).getReportDialogEndpoint(e),e.onLoad&&(t.onload=e.onLoad),(document.head||document.body).appendChild(t)):ln.error("Missing dsn option in showReportDialog call"):ln.error("Missing eventId option in showReportDialog call"):ln.error("Trying to call showReportDialog with Sentry Client disabled"))},yi.prototype._prepareEvent=function(t,e,n){return t.platform=t.platform||"javascript",mi.prototype._prepareEvent.call(this,t,e,n)},yi.prototype._sendEvent=function(t){var e=this.getIntegration(ui);e&&e.addSentryBreadcrumb(t),mi.prototype._sendEvent.call(this,t)},yi);function yi(t){return(t=void 0===t?{}:t)._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:kr}],version:kr},mi.call(this,ei,t)||this}var gi,_i,bi=[new It,new n,new S,new ui,new Ft,new zn,new Y,new A];function wi(t){var e,n;void 0===(t=void 0===t?{}:t).defaultIntegrations&&(t.defaultIntegrations=bi),void 0!==t.release||(e=Ze()).SENTRY_RELEASE&&e.SENTRY_RELEASE.id&&(t.release=e.SENTRY_RELEASE.id),void 0===t.autoSessionTracking&&(t.autoSessionTracking=!0),function(t,e){var n;!0===e.debug&&ln.enable();var r=or();null!==(n=r.getScope())&&void 0!==n&&n.update(e.initialScope),e=new t(e),r.bindClient(e)}(vi,t),t.autoSessionTracking&&(void 0!==Ze().document?"function"==typeof(n=or()).startSession&&"function"==typeof n.captureSession&&(n.startSession({ignoreDuration:!0}),n.captureSession(),jn({callback:function(t){var e=t.from,t=t.to;void 0!==e&&e!==t&&(n.startSession({ignoreDuration:!0}),n.captureSession())},type:"history"})):ln.warn("Session tracking in non-browser environment with @sentry/browser is not supported."))}(S=gi=gi||{}).Ok="ok",S.DeadlineExceeded="deadline_exceeded",S.Unauthenticated="unauthenticated",S.PermissionDenied="permission_denied",S.NotFound="not_found",S.ResourceExhausted="resource_exhausted",S.InvalidArgument="invalid_argument",S.Unimplemented="unimplemented",S.Unavailable="unavailable",S.InternalError="internal_error",S.UnknownError="unknown_error",S.Cancelled="cancelled",S.AlreadyExists="already_exists",S.FailedPrecondition="failed_precondition",S.Aborted="aborted",S.OutOfRange="out_of_range",S.DataLoss="data_loss",(_i=gi=gi||{}).fromHttpCode=function(t){if(t<400)return _i.Ok;if(400<=t&&t<500)switch(t){case 401:return _i.Unauthenticated;case 403:return _i.PermissionDenied;case 404:return _i.NotFound;case 409:return _i.AlreadyExists;case 413:return _i.FailedPrecondition;case 429:return _i.ResourceExhausted;default:return _i.InvalidArgument}if(500<=t&&t<600)switch(t){case 501:return _i.Unimplemented;case 503:return _i.Unavailable;case 504:return _i.DeadlineExceeded;default:return _i.InternalError}return _i.UnknownError};var Si=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Ei(t){var e;return(t=void 0===t?null===(e=or().getClient())||void 0===e?void 0:e.getOptions():t)&&("tracesSampleRate"in t||"tracesSampler"in t)}function xi(t){return null===(t=null===(t=void 0===t?or():t)||void 0===t?void 0:t.getScope())||void 0===t?void 0:t.getTransaction()}function ki(){var t=xi();t&&(ln.log("[Tracing] Transaction: "+gi.InternalError+" -> Global error occured"),t.setStatus(gi.InternalError))}var Ti=(Oi.prototype.add=function(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)},Oi);function Oi(t){void 0===t&&(t=1e3),this.spans=[],this._maxlen=t}Ii.prototype.child=function(t){return this.startChild(t)},Ii.prototype.startChild=function(t){t=new Ii(we(we({},t),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return t.spanRecorder=this.spanRecorder,t.spanRecorder&&t.spanRecorder.add(t),t.transaction=this.transaction,t},Ii.prototype.setTag=function(t,e){var n;return this.tags=we(we({},this.tags),((n={})[t]=e,n)),this},Ii.prototype.setData=function(t,e){var n;return this.data=we(we({},this.data),((n={})[t]=e,n)),this},Ii.prototype.setStatus=function(t){return this.status=t,this},Ii.prototype.setHttpStatus=function(t){this.setTag("http.status_code",String(t));t=gi.fromHttpCode(t);return t!==gi.UnknownError&&this.setStatus(t),this},Ii.prototype.isSuccess=function(){return this.status===gi.Ok},Ii.prototype.finish=function(t){this.endTimestamp="number"==typeof t?t:Gn()},Ii.prototype.toTraceparent=function(){var t="";return void 0!==this.sampled&&(t=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+t},Ii.prototype.toContext=function(){return Sn({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})},Ii.prototype.updateWithContext=function(t){var e;return this.data=null!=(e=t.data)?e:{},this.description=t.description,this.endTimestamp=t.endTimestamp,this.op=t.op,this.parentSpanId=t.parentSpanId,this.sampled=t.sampled,this.spanId=null!=(e=t.spanId)?e:this.spanId,this.startTimestamp=null!=(e=t.startTimestamp)?e:this.startTimestamp,this.status=t.status,this.tags=null!=(e=t.tags)?e:{},this.traceId=null!=(t=t.traceId)?t:this.traceId,this},Ii.prototype.getTraceContext=function(){return Sn({data:0<Object.keys(this.data).length?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:0<Object.keys(this.tags).length?this.tags:void 0,trace_id:this.traceId})},Ii.prototype.toJSON=function(){return Sn({data:0<Object.keys(this.data).length?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:0<Object.keys(this.tags).length?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},Ft=Ii;function Ii(t){if(this.traceId=tn(),this.spanId=tn().substring(16),this.startTimestamp=Gn(),this.tags={},this.data={},!t)return this;t.traceId&&(this.traceId=t.traceId),t.spanId&&(this.spanId=t.spanId),t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this.sampled=t.sampled),t.op&&(this.op=t.op),t.description&&(this.description=t.description),t.data&&(this.data=t.data),t.tags&&(this.tags=t.tags),t.status&&(this.status=t.status),t.startTimestamp&&(this.startTimestamp=t.startTimestamp),t.endTimestamp&&(this.endTimestamp=t.endTimestamp)}var Ci,ji=(he(Ai,Ci=Ft),Ai.prototype.setName=function(t){this.name=t},Ai.prototype.initSpanRecorder=function(t){void 0===t&&(t=1e3),this.spanRecorder||(this.spanRecorder=new Ti(t)),this.spanRecorder.add(this)},Ai.prototype.setMeasurements=function(t){this._measurements=we({},t)},Ai.prototype.setMetadata=function(t){this.metadata=we(we({},this.metadata),t)},Ai.prototype.finish=function(t){var e=this;if(void 0===this.endTimestamp){if(this.name||(ln.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),Ci.prototype.finish.call(this,t),!0===this.sampled){t=this.spanRecorder?this.spanRecorder.spans.filter(function(t){return t!==e&&t.endTimestamp}):[];this._trimEnd&&0<t.length&&(this.endTimestamp=t.reduce(function(t,e){return!t.endTimestamp||!e.endTimestamp||t.endTimestamp>e.endTimestamp?t:e}).endTimestamp);t={contexts:{trace:this.getTraceContext()},spans:t,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",debug_meta:this.metadata};return 0<Object.keys(this._measurements).length&&(ln.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),t.measurements=this._measurements),ln.log("[Tracing] Finishing "+this.op+" transaction: "+this.name+"."),this._hub.captureEvent(t)}ln.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.")}},Ai.prototype.toContext=function(){var t=Ci.prototype.toContext.call(this);return Sn(we(we({},t),{name:this.name,trimEnd:this._trimEnd}))},Ai.prototype.updateWithContext=function(t){var e;return Ci.prototype.updateWithContext.call(this,t),this.name=null!=(e=t.name)?e:"",this._trimEnd=t.trimEnd,this},Ai);function Ai(t,e){var n=Ci.call(this,t)||this;return n._measurements={},n._hub=or(),Le(e,er)&&(n._hub=e),n.name=t.name||"",n.metadata=t.metadata||{},n._trimEnd=t.trimEnd,n.transaction=n}var Ri,Di=(he(Ni,Ri=Ti),Ni.prototype.add=function(e){var n=this;e.spanId!==this.transactionSpanId&&(e.finish=function(t){e.endTimestamp="number"==typeof t?t:Gn(),n._popActivity(e.spanId)},void 0===e.endTimestamp&&this._pushActivity(e.spanId)),Ri.prototype.add.call(this,e)},Ni);function Ni(t,e,n,r){void 0===n&&(n="");r=Ri.call(this,r)||this;return r._pushActivity=t,r._popActivity=e,r.transactionSpanId=n,r}var Pi,Li=(he(qi,Pi=ji),qi.prototype.finish=function(n){var e,t,r=this;if(void 0===n&&(n=Gn()),this._finished=!0,this.activities={},this.spanRecorder){ln.log("[Tracing] finishing IdleTransaction",new Date(1e3*n).toISOString(),this.op);try{for(var i=Ee(this._beforeFinishCallbacks),o=i.next();!o.done;o=i.next())(0,o.value)(this,n)}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}this.spanRecorder.spans=this.spanRecorder.spans.filter(function(t){if(t.spanId===r.spanId)return!0;t.endTimestamp||(t.endTimestamp=n,t.setStatus(gi.Cancelled),ln.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(t,void 0,2)));var e=t.startTimestamp<n;return e||ln.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(t,void 0,2)),e}),ln.log("[Tracing] flushing IdleTransaction")}else ln.log("[Tracing] No active IdleTransaction");return this._onScope&&Ui(this._idleHub),Pi.prototype.finish.call(this,n)},qi.prototype.registerBeforeFinishCallback=function(t){this._beforeFinishCallbacks.push(t)},qi.prototype.initSpanRecorder=function(t){var e=this;this.spanRecorder||(this.spanRecorder=new Di(function(t){e._finished||e._pushActivity(t)},function(t){e._finished||e._popActivity(t)},this.spanId,t),ln.log("Starting heartbeat"),this._pingHeartbeat()),this.spanRecorder.add(this)},qi.prototype._pushActivity=function(t){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),ln.log("[Tracing] pushActivity: "+t),this.activities[t]=!0,ln.log("[Tracing] new activities count",Object.keys(this.activities).length)},qi.prototype._popActivity=function(t){var e,n=this;this.activities[t]&&(ln.log("[Tracing] popActivity "+t),delete this.activities[t],ln.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length&&(t=this._idleTimeout,e=Gn()+t/1e3,setTimeout(function(){n._finished||n.finish(e)},t))},qi.prototype._beat=function(){var t;clearTimeout(this._heartbeatTimer),this._finished||((t=(t=Object.keys(this.activities)).length?t.reduce(function(t,e){return t+e}):"")===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=t,3<=this._heartbeatCounter?(ln.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus(gi.DeadlineExceeded),this.setTag("heartbeat","failed"),this.finish()):this._pingHeartbeat())},qi.prototype._pingHeartbeat=function(){var t=this;ln.log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),this._heartbeatTimer=setTimeout(function(){t._beat()},5e3)},qi);function qi(t,e,n,r){void 0===n&&(n=1e3),void 0===r&&(r=!1);var i=Pi.call(this,t,e)||this;return i._idleHub=e,i._idleTimeout=n,i._onScope=r,i.activities={},i._heartbeatTimer=0,i._heartbeatCounter=0,i._finished=!1,i._beforeFinishCallbacks=[],e&&r&&(Ui(e),ln.log("Setting idle transaction on scope. Span ID: "+i.spanId),e.configureScope(function(t){return t.setSpan(i)})),i._initTimeout=setTimeout(function(){i._finished||i.finish()},i._idleTimeout),i}function Ui(t){!t||(t=t.getScope())&&t.getTransaction()&&t.setSpan(void 0)}function Mi(t){return(Mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fi(){var t=this.getScope();if(t){t=t.getSpan();if(t)return{"sentry-trace":t.toTraceparent()}}return{}}function Hi(t,e,n){return Ei()?void 0!==t.sampled?(t.setMetadata({transactionSampling:{method:be.Explicit}}),t):("function"==typeof e.tracesSampler?(r=e.tracesSampler(n),t.setMetadata({transactionSampling:{method:be.Sampler,rate:Number(r)}})):void 0!==n.parentSampled?(r=n.parentSampled,t.setMetadata({transactionSampling:{method:be.Inheritance}})):(r=e.tracesSampleRate,t.setMetadata({transactionSampling:{method:be.Rate,rate:Number(r)}})),function(t){if(isNaN(t)||"number"!=typeof t&&"boolean"!=typeof t)return ln.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(t)+" of type "+JSON.stringify(Mi(t))+"."),!1;if(t<0||1<t)return ln.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+t+"."),!1;return!0}(r)?r?(t.sampled=Math.random()<r,t.sampled?ln.log("[Tracing] starting "+t.op+" transaction - "+t.name):ln.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(r)+")"),t):(ln.log("[Tracing] Discarding transaction because "+("function"==typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),t.sampled=!1,t):(ln.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)):(t.sampled=!1,t);var r}function Bi(t,e){var n=(null===(r=this.getClient())||void 0===r?void 0:r.getOptions())||{},r=new ji(t,this);return(r=Hi(r,n,we({parentSampled:t.parentSampled,transactionContext:t},e))).sampled&&r.initSpanRecorder(null===(n=n._experiments)||void 0===n?void 0:n.maxSpans),r}var zi=Ze();function Wi(e,n,r){var i;return function(t){0<=n.value&&(t||r)&&(n.delta=n.value-(i||0),!n.delta&&void 0!==i||(i=n.value,e(n)))}}function Yi(t,e){return{name:t,value:null!=e?e:-1,delta:0,entries:[],id:Ki()}}function Gi(t,e){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){if("first-input"===t&&!("PerformanceEventTiming"in self))return;var n=new PerformanceObserver(function(t){return t.getEntries().map(e)});return n.observe({type:t,buffered:!0}),n}}catch(t){}}function Ji(t,e){function n(t){var e,n;t&&!t.hadRecentInput&&(e=a[0],n=a[a.length-1],o&&0!==a.length&&t.startTime-n.startTime<1e3&&t.startTime-e.startTime<5e3?(o+=t.value,a.push(t)):(o=t.value,a=[t]),o>i.value&&(i.value=o,i.entries=a,r&&r()))}var r,i=Yi("CLS",0),o=0,a=[],s=Gi("layout-shift",n);s&&(r=Wi(t,i,e),Qi(function(){s.takeRecords().map(n),r(!0)}))}function Vi(){return Zi<0&&(Zi="hidden"===document.visibilityState?0:1/0,Qi(function(t){t=t.timeStamp;Zi=t},!0)),{get firstHiddenTime(){return Zi}}}function Xi(t,e){function n(t){r&&t.startTime<i.firstHiddenTime&&(o.value=t.processingStart-t.startTime,o.entries.push(t),r(!0))}var r,i=Vi(),o=Yi("FID"),a=Gi("first-input",n);a&&(r=Wi(t,o,e),Qi(function(){a.takeRecords().map(n),a.disconnect()},!0))}function $i(t,e){function n(t){var e=t.startTime;e<o.firstHiddenTime&&(a.value=e,a.entries.push(t)),r&&r()}var r,i,o=Vi(),a=Yi("LCP"),s=Gi("largest-contentful-paint",n);s&&(r=Wi(t,a,e),i=function(){to[a.id]||(s.takeRecords().map(n),s.disconnect(),to[a.id]=!0,r(!0))},["keydown","click"].forEach(function(t){addEventListener(t,i,{once:!0,capture:!0})}),Qi(i,!0))}var Ki=function(){return"v2-"+Date.now()+"-"+(Math.floor(Math.random()*(9e12-1))+1e12)},Qi=function(e,n){function r(t){"pagehide"!==t.type&&"hidden"!==document.visibilityState||(e(t),n&&(removeEventListener("visibilitychange",r,!0),removeEventListener("pagehide",r,!0)))}addEventListener("visibilitychange",r,!0),addEventListener("pagehide",r,!0)},Zi=-1,to={},eo=Ze(),no=(ro.prototype.addPerformanceEntries=function(c){var u=this;if(eo&&eo.performance&&eo.performance.getEntries&&Jn){ln.log("[Tracing] Adding & adjusting spans using Performance API");var l,p,d,f,h,r,m=Jn/1e3;if(eo.document&&eo.document.scripts)for(var t=0;t<eo.document.scripts.length;t++)if("true"===eo.document.scripts[t].dataset.entry){l=eo.document.scripts[t].src;break}eo.performance.getEntries().slice(this._performanceCursor).forEach(function(t){var e,n,r,i=t.startTime/1e3,o=t.duration/1e3;if(!("navigation"===c.op&&m+i<c.startTimestamp))switch(t.entryType){case"navigation":io({transaction:e=c,entry:n=t,event:"unloadEvent",timeOrigin:r=m}),io({transaction:e,entry:n,event:"redirect",timeOrigin:r}),io({transaction:e,entry:n,event:"domContentLoadedEvent",timeOrigin:r}),io({transaction:e,entry:n,event:"loadEvent",timeOrigin:r}),io({transaction:e,entry:n,event:"connect",timeOrigin:r}),io({transaction:e,entry:n,event:"secureConnection",timeOrigin:r,eventEnd:"connectEnd",description:"TLS/SSL"}),io({transaction:e,entry:n,event:"fetch",timeOrigin:r,eventEnd:"domainLookupStart",description:"cache"}),io({transaction:e,entry:n,event:"domainLookup",timeOrigin:r,description:"DNS"}),function(t,e,n){oo(t,{op:"browser",description:"request",startTimestamp:n+e.requestStart/1e3,endTimestamp:n+e.responseEnd/1e3}),oo(t,{op:"browser",description:"response",startTimestamp:n+e.responseStart/1e3,endTimestamp:n+e.responseEnd/1e3})}(e,n,r),f=m+t.responseStart/1e3,h=m+t.requestStart/1e3;break;case"mark":case"paint":case"measure":var a=function(t,e,n,r,i){n=i+n,r=n+r;return oo(t,{description:e.name,endTimestamp:r,op:e.entryType,startTimestamp:n}),n}(c,t,i,o,m);void 0===d&&"sentry-tracing-init"===t.name&&(d=a);var s=Vi(),s=t.startTime<s.firstHiddenTime;"first-paint"===t.name&&s&&(ln.log("[Measurements] Adding FP"),u._measurements.fp={value:t.startTime},u._measurements["mark.fp"]={value:a}),"first-contentful-paint"===t.name&&s&&(ln.log("[Measurements] Adding FCP"),u._measurements.fcp={value:t.startTime},u._measurements["mark.fcp"]={value:a});break;case"resource":s=t.name.replace(window.location.origin,""),a=function(t,e,n,r,i,o){if("xmlhttprequest"===e.initiatorType||"fetch"===e.initiatorType)return;var a={};"transferSize"in e&&(a["Transfer Size"]=e.transferSize);"encodedBodySize"in e&&(a["Encoded Body Size"]=e.encodedBodySize);"decodedBodySize"in e&&(a["Decoded Body Size"]=e.decodedBodySize);r=o+r,i=r+i;return oo(t,{description:n,endTimestamp:i,op:e.initiatorType?"resource."+e.initiatorType:"resource",startTimestamp:r,data:a}),i}(c,t,s,i,o,m);void 0===p&&-1<(l||"").indexOf(s)&&(p=a)}}),void 0!==p&&void 0!==d&&oo(c,{description:"evaluation",endTimestamp:d,op:"script",startTimestamp:p}),this._performanceCursor=Math.max(performance.getEntries().length-1,0),this._trackNavigator(c),"pageload"===c.op&&(r=Jn/1e3,"number"==typeof f&&(ln.log("[Measurements] Adding TTFB"),this._measurements.ttfb={value:1e3*(f-c.startTimestamp)},"number"==typeof h&&h<=f&&(this._measurements["ttfb.requestTime"]={value:1e3*(f-h)})),["fcp","fp","lcp"].forEach(function(t){var e,n;!u._measurements[t]||r>=c.startTimestamp||(e=u._measurements[t].value,n=Math.abs(1e3*(r+e/1e3-c.startTimestamp)),ln.log("[Measurements] Normalized "+t+" from "+e+" to "+n+" ("+(n-e)+")"),u._measurements[t].value=n)}),this._measurements["mark.fid"]&&this._measurements.fid&&oo(c,{description:"first input delay",endTimestamp:this._measurements["mark.fid"].value+this._measurements.fid.value/1e3,op:"web.vitals",startTimestamp:this._measurements["mark.fid"].value}),"fcp"in this._measurements||delete this._measurements.cls,c.setMeasurements(this._measurements),this._tagMetricInfo(c))}},ro.prototype._tagMetricInfo=function(n){this._lcpEntry&&(ln.log("[Measurements] Adding LCP Data"),this._lcpEntry.element&&n.setTag("lcp.element",qe(this._lcpEntry.element)),this._lcpEntry.id&&n.setTag("lcp.id",this._lcpEntry.id),this._lcpEntry.url&&n.setTag("lcp.url",this._lcpEntry.url.trim().slice(0,200)),n.setTag("lcp.size",this._lcpEntry.size)),this._clsEntry&&this._clsEntry.sources&&(ln.log("[Measurements] Adding CLS Data"),this._clsEntry.sources.forEach(function(t,e){return n.setTag("cls.source."+(e+1),qe(t.node))}))},ro.prototype._trackCLS=function(){var n=this;Ji(function(t){var e=t.entries.pop();e&&(ln.log("[Measurements] Adding CLS"),n._measurements.cls={value:t.value},n._clsEntry=e)})},ro.prototype._trackNavigator=function(t){var e,n=eo.navigator;n&&((e=n.connection)&&(e.effectiveType&&t.setTag("effectiveConnectionType",e.effectiveType),e.type&&t.setTag("connectionType",e.type),ao(e.rtt)&&(this._measurements["connection.rtt"]={value:e.rtt}),ao(e.downlink)&&(this._measurements["connection.downlink"]={value:e.downlink})),ao(n.deviceMemory)&&t.setTag("deviceMemory",String(n.deviceMemory)),ao(n.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(n.hardwareConcurrency)))},ro.prototype._trackLCP=function(){var i=this;$i(function(t){var e,n,r=t.entries.pop();r&&(e=Jn/1e3,n=r.startTime/1e3,ln.log("[Measurements] Adding LCP"),i._measurements.lcp={value:t.value},i._measurements["mark.lcp"]={value:e+n},i._lcpEntry=r)})},ro.prototype._trackFID=function(){var r=this;Xi(function(t){var e,n=t.entries.pop();n&&(e=Jn/1e3,n=n.startTime/1e3,ln.log("[Measurements] Adding FID"),r._measurements.fid={value:t.value},r._measurements["mark.fid"]={value:e+n})})},ro);function ro(){this._measurements={},this._performanceCursor=0,!Ge()&&null!==eo&&void 0!==eo&&eo.performance&&(eo.performance.mark&&eo.performance.mark("sentry-tracing-init"),this._trackCLS(),this._trackLCP(),this._trackFID())}function io(t){var e=t.transaction,n=t.entry,r=t.event,i=t.timeOrigin,o=t.eventEnd,t=t.description,o=o?n[o]:n[r+"End"],n=n[r+"Start"];n&&o&&oo(e,{op:"browser",description:null!=t?t:r,startTimestamp:i+n/1e3,endTimestamp:i+o/1e3})}function oo(t,e){var n=e.startTimestamp,e=Se(e,["startTimestamp"]);return n&&t.startTimestamp>n&&(t.startTimestamp=n),t.startChild(we({startTimestamp:n},e))}function ao(t){return"number"==typeof t&&isFinite(t)}var so={traceFetch:!0,traceXHR:!0,tracingOrigins:["localhost",/^\//]};function co(t){function e(e){if(a[e])return a[e];var t=i;return a[e]=t.some(function(t){return Ke(e,t)})&&!Ke(e,"sentry_key"),a[e]}var n=we(we({},so),t),r=n.traceFetch,t=n.traceXHR,i=n.tracingOrigins,o=n.shouldCreateSpanForRequest,a={},s=e;"function"==typeof o&&(s=function(t){return e(t)&&o(t)});var c={};r&&jn({callback:function(t){var e,n,r;e=t,n=s,t=c,Ei()&&e.fetchData&&n(e.fetchData.url)&&(e.endTimestamp&&e.fetchData.__span?(r=t[e.fetchData.__span])&&(e.response?r.setHttpStatus(e.response.status):e.error&&r.setStatus(gi.InternalError),r.finish(),delete t[e.fetchData.__span]):(n=xi())&&(r=n.startChild({data:we(we({},e.fetchData),{type:"fetch"}),description:e.fetchData.method+" "+e.fetchData.url,op:"http.client"}),e.fetchData.__span=r.spanId,t[r.spanId]=r,n=e.args[0]=e.args[0],e=(t=e.args[1]=e.args[1]||{}).headers,(e=Le(n,Request)?n.headers:e)?"function"==typeof e.append?e.append("sentry-trace",r.toTraceparent()):e=Array.isArray(e)?ke(e,[["sentry-trace",r.toTraceparent()]]):we(we({},e),{"sentry-trace":r.toTraceparent()}):e={"sentry-trace":r.toTraceparent()},t.headers=e))},type:"fetch"}),t&&jn({callback:function(t){!function(t,e,n){var r;if(Ei()&&(null===(r=t.xhr)||void 0===r||!r.__sentry_own_request__)&&null!==(i=t.xhr)&&void 0!==i&&i.__sentry_xhr__&&e(t.xhr.__sentry_xhr__.url)){var i=t.xhr.__sentry_xhr__;if(t.endTimestamp&&t.xhr.__sentry_xhr_span_id__)(o=n[t.xhr.__sentry_xhr_span_id__])&&(o.setHttpStatus(i.status_code),o.finish(),delete n[t.xhr.__sentry_xhr_span_id__]);else{e=xi();if(e){var o=e.startChild({data:we(we({},i.data),{type:"xhr",method:i.method,url:i.url}),description:i.method+" "+i.url,op:"http.client"});if(t.xhr.__sentry_xhr_span_id__=o.spanId,n[t.xhr.__sentry_xhr_span_id__]=o,t.xhr.setRequestHeader)try{t.xhr.setRequestHeader("sentry-trace",o.toTraceparent())}catch(t){}}}}}(t,s,c)},type:"xhr"})}var uo=Ze();var lo=we({idleTimeout:1e3,markBackgroundTransactions:!0,maxTransactionDuration:600,routingInstrumentation:function(n,t,e){var r,i;void 0===t&&(t=!0),void 0===e&&(e=!0),uo&&uo.location?(r=uo.location.href,t&&(i=n({name:uo.location.pathname,op:"pageload"})),e&&jn({callback:function(t){var e=t.to,t=t.from;void 0===t&&r&&-1!==r.indexOf(e)?r=void 0:t!==e&&(r=void 0,i&&(ln.log("[Tracing] Finishing current transaction with op: "+i.op),i.finish()),i=n({name:uo.location.pathname,op:"navigation"}))},type:"history"})):ln.warn("Could not initialize routing instrumentation due to invalid location")},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},so),zn=(po.prototype.setupOnce=function(t,e){var n=this;this._getCurrentHub=e,this._emitOptionsWarning&&(ln.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),ln.warn("[Tracing] We added a reasonable default for you: "+so.tracingOrigins));var r=this.options,i=r.routingInstrumentation,o=r.startTransactionOnLocationChange,a=r.startTransactionOnPageLoad,s=r.markBackgroundTransactions,c=r.traceFetch,u=r.traceXHR,e=r.tracingOrigins,r=r.shouldCreateSpanForRequest;i(function(t){return n._createRouteTransaction(t)},a,o),s&&(zi&&zi.document?zi.document.addEventListener("visibilitychange",function(){var t=xi();zi.document.hidden&&t&&(ln.log("[Tracing] Transaction: "+gi.Cancelled+" -> since tab moved to the background, op: "+t.op),t.status||t.setStatus(gi.Cancelled),t.setTag("visibilitychange","document.hidden"),t.finish())}):ln.warn("[Tracing] Could not set up background tab detection due to lack of global document")),co({traceFetch:c,traceXHR:u,tracingOrigins:e,shouldCreateSpanForRequest:r})},po.prototype._createRouteTransaction=function(t){var i=this;if(this._getCurrentHub){var e=this.options,n=e.beforeNavigate,r=e.idleTimeout,o=e.maxTransactionDuration,a="pageload"===t.op?function(){var t=function(t){t=document.querySelector("meta[name="+t+"]");return t?t.getAttribute("content"):null}("sentry-trace");if(t)return function(t){var e=t.match(Si);if(e){t=void 0;return"1"===e[3]?t=!0:"0"===e[3]&&(t=!1),{traceId:e[1],parentSampled:t,parentSpanId:e[2]}}}(t);return}():void 0,s=we(we(we({},t),a),{trimEnd:!0}),c="function"==typeof n?n(s):s,e=void 0===c?we(we({},s),{sampled:!1}):c;!1===e.sampled&&ln.log("[Tracing] Will not send "+e.op+" transaction because of beforeNavigate."),ln.log("[Tracing] Starting "+e.op+" transaction on scope");var a=this._getCurrentHub(),n=Ze().location,e=(s=e,c=r,e=!0,r={location:n},a=(null===(a=(n=a).getClient())||void 0===a?void 0:a.getOptions())||{},(e=Hi(e=new Li(s,n,c,e),a,we({parentSampled:s.parentSampled,transactionContext:s},r))).sampled&&e.initSpanRecorder(null===(a=a._experiments)||void 0===a?void 0:a.maxSpans),e);return e.registerBeforeFinishCallback(function(t,e){var n,r;i._metrics.addPerformanceEntries(t),n=1e3*o,t=e-(r=t).startTimestamp,e&&(n<t||t<0)&&(r.setStatus(gi.DeadlineExceeded),r.setTag("maxTransactionDurationExceeded","true"))}),e}ln.warn("[Tracing] Did not create "+t.op+" transaction because _getCurrentHub is invalid.")},po.id="BrowserTracing",po);function po(t){this.name=po.id,this._metrics=new no,this._emitOptionsWarning=!1;var e=so.tracingOrigins;t&&t.tracingOrigins&&Array.isArray(t.tracingOrigins)&&0!==t.tracingOrigins.length?e=t.tracingOrigins:this._emitOptionsWarning=!0,this.options=we(we(we({},lo),t),{tracingOrigins:e})}fo.prototype.setupOnce=function(){this._router?function(n,t){void 0===t&&(t=[]);t.forEach(function(t){return i=(e=n)[r=t],e[r]=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return i.call.apply(i,ke([this],(e=r,t.map(function(t){return"function"==typeof t?ho(t,e):Array.isArray(t)?t.map(function(t){return"function"==typeof t?ho(t,e):t}):t}))))},e;var e,r,i})}(this._router,this._methods):ln.error("ExpressIntegration is missing an Express instance")},fo.id="Express",Y=fo;function fo(t){void 0===t&&(t={}),this.name=fo.id,this._router=t.router||t.app,this._methods=(Array.isArray(t.methods)?t.methods:[]).concat("use")}function ho(a,s){var t=a.length;switch(t){case 2:return function(t,e){var n,r=e.__sentry_transaction;return r&&(n=r.startChild({description:a.name,op:"middleware."+s}),e.once("finish",function(){n.finish()})),a.call(this,t,e)};case 3:return function(t,e,n){var r=e.__sentry_transaction,i=null===r||void 0===r?void 0:r.startChild({description:a.name,op:"middleware."+s});a.call(this,t,e,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];null!==i&&void 0!==i&&i.finish(),n.call.apply(n,ke([this],t))})};case 4:return function(t,e,n,r){var i=n.__sentry_transaction,o=null===i||void 0===i?void 0:i.startChild({description:a.name,op:"middleware."+s});a.call(this,t,e,n,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];null!==o&&void 0!==o&&o.finish(),r.call.apply(r,ke([this],t))})};default:throw new Error("Express middleware takes 2-4 arguments. Got: "+t)}}mo.prototype.setupOnce=function(t,a){var e=Ve("pg");e?vn(e.Client.prototype,"query",function(o){return function(t,n,r){var e=a().getScope(),e=null===e||void 0===e?void 0:e.getSpan(),i=null===e||void 0===e?void 0:e.startChild({description:"string"==typeof t?t:t.text,op:"db"});if("function"==typeof r)return o.call(this,t,n,function(t,e){null!==i&&void 0!==i&&i.finish(),r(t,e)});if("function"==typeof n)return o.call(this,t,function(t,e){null!==i&&void 0!==i&&i.finish(),n(t,e)});t=void 0!==n?o.call(this,t,n):o.call(this,t);return Pe(t)?t.then(function(t){return null!==i&&void 0!==i&&i.finish(),t}):(null!==i&&void 0!==i&&i.finish(),t)}}):ln.error("Postgres Integration was unable to require `pg` package.")},mo.id="Postgres",A=mo;function mo(){this.name=mo.id}vo.prototype.setupOnce=function(t,a){var e=Ve("mysql/lib/Connection.js");e?vn(e,"createQuery",function(n){return function(t,r,i){var e=a().getScope(),e=null===e||void 0===e?void 0:e.getSpan(),o=null===e||void 0===e?void 0:e.startChild({description:"string"==typeof t?t:t.sql,op:"db"});return"function"==typeof i?n.call(this,t,r,function(t,e,n){null!==o&&void 0!==o&&o.finish(),i(t,e,n)}):"function"==typeof r?n.call(this,t,function(t,e,n){null!==o&&void 0!==o&&o.finish(),r(t,e,n)}):n.call(this,t,r,i)}}):ln.error("Mysql Integration was unable to require `mysql` package.")},vo.id="Mysql",S=vo;function vo(){this.name=vo.id}var yo=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],go={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]},Ft=(_o.prototype.setupOnce=function(t,e){var n=this._useMongoose?"mongoose":"mongodb",r=Ve(n);r?this._instrumentOperations(r.Collection,this._operations,e):ln.error("Mongo Integration was unable to require `"+n+"` package.")},_o.prototype._instrumentOperations=function(e,t,n){var r=this;t.forEach(function(t){return r._patchOperation(e,t,n)})},_o.prototype._patchOperation=function(t,c,u){var l;c in t.prototype&&(l=this._getSpanContextFromOperationArguments.bind(this),vn(t.prototype,c,function(s){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1],r=u().getScope(),i=null===r||void 0===r?void 0:r.getSpan();if("function"!=typeof n||"mapReduce"===c&&2===t.length){var o=null===i||void 0===i?void 0:i.startChild(l(this,c,t)),r=s.call.apply(s,ke([this],t));return Pe(r)?r.then(function(t){return null!==o&&void 0!==o&&o.finish(),t}):(null!==o&&void 0!==o&&o.finish(),r)}var a=null===i||void 0===i?void 0:i.startChild(l(this,c,t.slice(0,-1)));return s.call.apply(s,ke([this],t.slice(0,-1),[function(t,e){null!==a&&void 0!==a&&a.finish(),n(t,e)}]))}}))},_o.prototype._getSpanContextFromOperationArguments=function(t,e,n){var r={collectionName:t.collectionName,dbName:t.dbName,namespace:t.namespace},i={op:"db",description:e,data:r},o=go[e],t=Array.isArray(this._describeOperations)?this._describeOperations.includes(e):this._describeOperations;if(!o||!t)return i;try{if("mapReduce"===e){var a=xe(n,2),s=a[0],c=a[1];r[o[0]]="string"==typeof s?s:s.name||"<anonymous>",r[o[1]]="string"==typeof c?c:c.name||"<anonymous>"}else for(var u=0;u<o.length;u++)r[o[u]]=JSON.stringify(n[u])}catch(t){}return i},_o.id="Mongo",_o);function _o(t){void 0===t&&(t={}),this.name=_o.id,this._operations=Array.isArray(t.operations)?t.operations:yo,this._describeOperations=!("describeOperations"in t)||t.describeOperations,this._useMongoose=!!t.useMongoose}var bo,wo,So,Eo=we(we({},Object.freeze({__proto__:null,Express:Y,Postgres:A,Mysql:S,Mongo:Ft})),{BrowserTracing:zn});(wo=rr()).__SENTRY__&&(wo.__SENTRY__.extensions=wo.__SENTRY__.extensions||{},wo.__SENTRY__.extensions.startTransaction||(wo.__SENTRY__.extensions.startTransaction=Bi),wo.__SENTRY__.extensions.traceHeaders||(wo.__SENTRY__.extensions.traceHeaders=Fi)),Ge()&&(So=rr()).__SENTRY__&&(bo={mongodb:function(){return new(Je(module,"./integrations/mongo").Mongo)},mongoose:function(){return new(Je(module,"./integrations/mongo").Mongo)({mongoose:!0})},mysql:function(){return new(Je(module,"./integrations/mysql").Mysql)},pg:function(){return new(Je(module,"./integrations/postgres").Postgres)}},0<(wo=Object.keys(bo).filter(function(t){return!!Ve(t)}).map(function(t){try{return bo[t]()}catch(t){return}}).filter(function(t){return t})).length&&(So.__SENTRY__.integrations=ke(So.__SENTRY__.integrations||[],wo))),jn({callback:ki,type:"error"}),jn({callback:ki,type:"unhandledrejection"});function xo(t,e){var n=e.originalException;if(n&&"string"!=typeof n){e=n.stack;if(Do.test(void 0===e?"":e))return null}else if("string"==typeof n&&Do.test(n))return null;return t}function ko(t){return l.abra.tests[t]}var To,Oo,Io,Co,jo,Ao,Ro=[/extensions\//i,/^chrome:\/\//i,/safari-extension/,/safari-web-extension/,/moz-extension/,/chrome-extension/,/data:application/,/file:\/\/\//,/127\.0\.0\.1:4001\/isrunning/i,/webappstoolbarba\.texthelp\.com\//i,/metrics\.itunes\.apple\.com\.edgesuite\.net\//i,/translate\.goog/,/googletagservices/,/moatads/,/adtech/,/contextual\.media\.net/,/platform\.iteratehq\.com/,/chartbeat/,/flashtalking/,/doubleverify/,/google-analytics/,/3lift/,/celtra/,/4everproxy/,/hideproxy/,/proxysite/,/us-proxy/,/geoedge/,/grumi-ip/],Do=new RegExp(["amazon-adsystem","ads-us","amp4ads","pubads","2mdn","ampproject","chartbeat","gsi","bk_addPageCtx","yimg","BOOMR","boomerang","gtm","google_tag_manager","scorecardresearch","safari-extension","moz-extension","chrome-extension","bad req","No Internet","No root config found"].join("|")),No={},zn={init:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:l.abra.config;t&&(e=l.Abra(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},2<arguments.length?arguments[2]:void 0),l.abra.getVariant=e,l.abra.tests={},Object.keys(t).forEach(function(t){l.abra.tests[t]=e(t)}))},getTests:function(){return l.abra.tests},getVariant:ko,reset:function(){No={}},reportExposure:function(t){No[t]||(No[t]=!0,l.dataLayer=l.dataLayer||[],l.dataLayer.push({event:"ab-expose",abtest:{test:t,variant:ko(t)||"0"}}))}};!function(){var t,e,n,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window;(r.isHybridWebView||r.newsreaderAppPlatform)&&(r.navigator.native={bridgeCommands:{sendAnalytic:{enabled:!0},setPullToRefreshEnabled:{enabled:!0},gamesAuthenticateUser:{enabled:!0},gamesBackToHub:{enabled:!0},gamesCacheRefresh:{enabled:!0},gamesGetUserDetails:{enabled:!0},gamesInitializeState:{enabled:!0},gamesSendEmail:{enabled:!0}}},r.asset={uri:"fakeAssetUri"},-1!==((null===(t=document)||void 0===t||null===(e=t.location)||void 0===e?void 0:e.search.toLowerCase())||"").indexOf("bridge=mock")&&(r.NYTG=r.NYTG||{},r.NYTG.enqueue=function(t){var t=JSON.parse(t),e={id:t.id,success:!0,error:{details:""},values:{type:t.type}};console.log("[NativeBridge] Successfully enqueued: ".concat(JSON.stringify(t,null,2))),requestAnimationFrame(function(){r.NYTG.onCommandResult?r.NYTG.onCommandResult(e):console.error("[NativeBridge] NYTG.onCommandResult is undefined")})}),e=i.initNativeBridge(r,!0),n=e.callNativeBridgeCommand,e.sendAnalytic=function(t,e){return n("sendAnalytic",{eventName:t,options:e||{}})},e.setPullToRefreshEnabled=function(t){return n("setPullToRefreshEnabled",{value:t})},e.gamesAuthenticateUser=function(t){return n("gamesAuthenticateUser",{type:t})},e.gamesBackToHub=function(){return n("gamesBackToHub")},e.gamesCacheRefresh=function(){return n("gamesCacheRefresh")},e.gamesGetUserDetails=function(){return n("gamesGetUserDetails")},e.gamesInitializeState=function(){return n("gamesInitializeState")},e.gamesSendEmail=function(t){var e=t.type,t=t.debugInfo;return n("gamesSendEmail",{type:e,debugInfo:t})},e.hybridConfig().then(function(t){r.hybridConfig=t}).catch(function(t){console.error("Unable to fetch hybrid config",t)}),r.NativeBridge=e)}(),Tt(),To=l.sentryConfig,Oo=To.dsn,Io=To.release,Co=To.sampleRate,jo=To.environment,To=new URL(window.location.href).searchParams.get("sentryOverride"),"prod"!==jo&&!To||((jo={dsn:Oo,release:Io,sampleRate:To?1:Co,maxBreadcrumbs:30,environment:jo,beforeSend:xo,denyUrls:Ro,integrations:[new Eo.BrowserTracing]})._metadata=jo._metadata||{},jo._metadata.sdk=jo._metadata.sdk||{name:"sentry.javascript.react",packages:[{name:"npm:@sentry/react",version:kr}],version:kr},wi(jo),ur("setUser",{id:D}),ur("setContext","userType",B)),"ontouchstart"in l||l.DocumentTouch||m(p.documentElement,"pz-dont-touch"),l.isHybridWebView||(H.initialize(),ot.initialize()),function(){var n,r,i,o,a,s,t;zt(document.querySelectorAll(".js-nav-tracker")).forEach(function(t){var e=t.dataset.trackNav;t.addEventListener("click",function(){Ht(e)})}),(t=_(O("hybrid-back")))&&window.isHybridWebView&&window.NativeBridge&&g(t,"click",function(){var t;null!==(t=window.NativeBridge)&&void 0!==t&&t.gamesBackToHub()}),window.isHybridWebView&&window.NativeBridge&&(n=document.querySelectorAll(".".concat(O("nav-login"))),r=document.querySelectorAll(".".concat(O("nav-logout"))),i=document.querySelectorAll(".".concat(O("nav-subscribe"))),o=document.querySelectorAll(".".concat(O("nav-account-details"))),a=function(t){return t.forEach(function(t){m(t,"hybrid-hidden")})},s=function(t){var e=t.isUserLoggedIn,t=t.isSubscribed;e?a(n):(a(r),a(o)),t&&a(i)},window.NativeBridge.gamesGetUserDetails().then(function(t){if(!t.success)throw new Error(t.error);s(t.values.gamesGetUserDetails)}).catch(function(t){console.error("Getting user details failed",t),a(r),a(o)}),g(window,"gamesUserCredentialChanged",function(t){var e,n;s(null==t||null===(e=t.detail)||void 0===e||null===(n=e.values)||void 0===n?void 0:n.gamesAuthenticateUser)}),(t=function(t,e){t.forEach(function(t){g(t,"click",function(t){t.preventDefault(),null!==(t=window.NativeBridge)&&void 0!==t&&t.gamesAuthenticateUser(e).then(function(t){if(!t.success)throw new Error(t.error);window.dispatchEvent(new CustomEvent("gamesUserCredentialChanged",{detail:t}))})})})})(i,"subscribe"),t(n,"login")),setTimeout(function(){zt(document.querySelectorAll(".js-hub-tracker")).forEach(function(t){var e=t.dataset.trackHub,n=t.dataset.trackHubContext||null;t.addEventListener("click",function(){Bt(e,n)},!0)})},0);var c,u,l=!1,p=-1,d=_(O("nav-burger")),e=_(O("nav-drawer"));function f(){l=!0,d&&e&&(m(e,"open"),m(d,"active"),y(d,"aria-expanded",l.toString()),y(e,"aria-hidden",(!l).toString()))}function h(){l=!1,d&&e&&(v(e,"open"),m(e,"closing"),setTimeout(function(){v(e,"closing")},500),v(d,"active"),y(d,"aria-expanded",l.toString()),y(e,"aria-hidden",(!l).toString()))}d&&e&&(c=[].concat(zt(e.querySelectorAll(".pz-nav-drawer__link")),zt(e.querySelectorAll(".pz-nav__button"))),u=c.map(function(t){t=t.textContent;return t&&t[0]?t[0].toUpperCase():""}),g(d,"click",function(){(l?h:f)(),d.blur()}),g(d,"keydown",function(t){var e=t.key,n=t.keyCode;if("Escape"!==e&&"Esc"!==e){if("Enter"!==e&&"Space"!==e&&32!==n)return"ArrowDown"===e?(t.preventDefault(),f(),void c[p=0].focus()):void("ArrowUp"===e&&(t.preventDefault(),f(),p=c.length-1,c[p].focus()));l?h():(f(),c[p=0].focus())}else h()}),g(e,"keydown",function(t){var e=t.key,n=t.keyCode,r=t.shiftKey;return"Escape"===e||"Esc"===e?(h(),void d.focus()):"ArrowDown"===e||"ArrowRight"===e||"Tab"===e&&!r?(t.preventDefault(),p===c.length-1?p=0:p+=1,void c[p].focus()):"ArrowUp"===e||"ArrowLeft"===e||"Tab"===e&&r?(t.preventDefault(),0===p?p=c.length-1:--p,void c[p].focus()):void(65<=n&&n<=90&&(0<=(t=u.findIndex(function(t,e){return t===String.fromCharCode(n)&&e!==p}))&&c[p=t].focus()))}),_(O("logo-nav")).addEventListener("click",function(){var t={eventData:{pagetype:"game",trigger:"module",type:"click"},module:{name:"click",context:"",element:{name:window.location.href,label:"games-logo"}}};jt("moduleInteraction",t)}))}(),(Ao=_(O("feedback-link")))&&(Lt().then(function(t){Ao.setAttribute("href",t)}),Rt(document.querySelectorAll(".games-collection")).forEach(function(t){t.addEventListener("click",Ot)})),!r.isMobile&&(/iPad/.test(it.platform)||"MacIntel"===it.platform&&1<it.maxTouchPoints)&&(p.cookie="inferredIpad=true;domain=nytimes.com;",l.location.reload()),l.false||B.inShortzMode&&N?l.dataLayer=[]:(rt&&rt.loadScripts&&rt.loadScripts({pageType:"games",section:"crosswords"}),l.addEventListener("load",function(){var n;de(),n=l.adUnitPath||"default",rt.cmd.push(function(){var t=r.width.value,e=t<2?["small","medium"][t]:"large",t=T("ad-keywords"),t=W({plat:"web",prop:"nyt",typ:"games",vp:e,sub:B.entitlement,page_view_id:j},t?{adv:t}:{});rt.init({adTargeting:t,adUnitPath:"".concat("29390238/NYT/crosswords","/").concat(n),sizeMapping:{default:G}}),rt.events.subscribe({name:"AdRendered",scope:"all",callback:function(t){var e=t.slot,t=t.size,e=p.getElementById(e.getSlotElementId());t&&0===t[1]?e&&m(e,"fluid"):e&&v(e,"fluid")}})}),Et()}));t.abra=zn,t.agentIdCookie=D,t.appendSupportedParams=function(e,t){return I.some(function(t){return e.startsWith(t)})?e:"".concat(e).concat(t)},t.captureSentryError=function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};pr(function(e){Object.keys(n).forEach(function(t){e.setTag(t,n[t])}),lr(t)})},t.device=ot,t.env=h,t.featureFlags=w,t.getFeedbackLink=Lt,t.getGameData=function(){return l.gameData},t.getQueryParams=T,t.globalNavId=$t,t.jsHook=O,t.mobileNavTools=E,t.mobileToolbarId=b,t.refreshAds=function(){rt.cmd.push(function(){rt.refreshAds()})},t.reportWebVitals=Tt,t.showToolbarClass=Kt,t.track=jt,t.trackClick=xt,t.user=H,t.userType=B,t.xhr=F,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=foundation.1e71ba669a95430b01dcfd05e0946bdf1f7fcd81.js.map